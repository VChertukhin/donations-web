/*! For license information please see lib-5d8c189b.83ce5b22d037f0a8d52c.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[2],[,function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return mn})),n.d(t,"c",(function(){return Sn})),n.d(t,"d",(function(){return Qt})),n.d(t,"e",(function(){return $n})),n.d(t,"f",(function(){return pn})),n.d(t,"g",(function(){return _n})),n.d(t,"h",(function(){return Pn})),n.d(t,"i",(function(){return W})),n.d(t,"j",(function(){return Rn})),n.d(t,"k",(function(){return an})),n.d(t,"l",(function(){return on})),n.d(t,"m",(function(){return Gt})),n.d(t,"n",(function(){return Ge})),n.d(t,"o",(function(){return vt})),n.d(t,"p",(function(){return no})),n.d(t,"q",(function(){return yn})),n.d(t,"r",(function(){return vn})),n.d(t,"s",(function(){return Tn})),n.d(t,"t",(function(){return ge})),n.d(t,"u",(function(){return Hn})),n.d(t,"v",(function(){return ht})),n.d(t,"w",(function(){return dn})),n.d(t,"x",(function(){return at})),n.d(t,"y",(function(){return $t})),n.d(t,"z",(function(){return xn})),n.d(t,"A",(function(){return Ot})),n.d(t,"B",(function(){return Fe})),n.d(t,"C",(function(){return X})),n.d(t,"D",(function(){return G})),n.d(t,"E",(function(){return it})),n.d(t,"F",(function(){return se}));n(10);var o=n(0),a=n(2),i=n(17),r=!("undefined"==typeof window||!window.document||!window.document.createElement);if(r){var s=Element.prototype;s.matches||(s.matches=s.matchesSelector||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector),s.closest||(s.closest=function(e){for(var t=this;t;){if(t.matches(e))return t;t=t.parentElement}return null})}Array.prototype.includes||Object.defineProperty(Array.prototype,"includes",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var n=Object(this),o=n.length>>>0;if(0===o)return!1;var a=0|t,i=Math.max(a>=0?a:o-Math.abs(a),0);function r(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}for(;i<o;){if(r(n[i],e))return!0;i++}return!1}}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("callback must be a function");for(var t=Object(this),n=t.length>>>0,o=arguments[1],a=0;a<n;a++){var i=t[a];if(e.call(o,i,a,t))return i}}});var c=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};function l(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}var u=function(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e};var d=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e},p=Object(o.b)((function(e){function t(n,o){return e.exports=t=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t(n,o)}e.exports=t}));var f=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)},h=Object(o.b)((function(e){function t(n){return"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?e.exports=t=function(e){return typeof e}:e.exports=t=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},t(n)}e.exports=t}));var m=function(e,t){return!t||"object"!==h(t)&&"function"!=typeof t?d(e):t},v=Object(o.b)((function(e){function t(n){return e.exports=t=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},t(n)}e.exports=t}));var y=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},g="function"==typeof Symbol&&Symbol.for,w=g?Symbol.for("react.element"):60103,b=g?Symbol.for("react.portal"):60106,E=g?Symbol.for("react.fragment"):60107,S=g?Symbol.for("react.strict_mode"):60108,_=g?Symbol.for("react.profiler"):60114,P=g?Symbol.for("react.provider"):60109,k=g?Symbol.for("react.context"):60110,M=g?Symbol.for("react.async_mode"):60111,R=g?Symbol.for("react.concurrent_mode"):60111,O=g?Symbol.for("react.forward_ref"):60112,C=g?Symbol.for("react.suspense"):60113,x=g?Symbol.for("react.suspense_list"):60120,T=g?Symbol.for("react.memo"):60115,N=g?Symbol.for("react.lazy"):60116,D=g?Symbol.for("react.block"):60121,j=g?Symbol.for("react.fundamental"):60117,B=g?Symbol.for("react.responder"):60118,A=g?Symbol.for("react.scope"):60119;function I(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case w:switch(e=e.type){case M:case R:case E:case _:case S:case C:return e;default:switch(e=e&&e.$$typeof){case k:case O:case N:case T:case P:return e;default:return t}}case b:return t}}}function L(e){return I(e)===R}var Y={AsyncMode:M,ConcurrentMode:R,ContextConsumer:k,ContextProvider:P,Element:w,ForwardRef:O,Fragment:E,Lazy:N,Memo:T,Portal:b,Profiler:_,StrictMode:S,Suspense:C,isAsyncMode:function(e){return L(e)||I(e)===M},isConcurrentMode:L,isContextConsumer:function(e){return I(e)===k},isContextProvider:function(e){return I(e)===P},isElement:function(e){return"object"==typeof e&&null!==e&&e.$$typeof===w},isForwardRef:function(e){return I(e)===O},isFragment:function(e){return I(e)===E},isLazy:function(e){return I(e)===N},isMemo:function(e){return I(e)===T},isPortal:function(e){return I(e)===b},isProfiler:function(e){return I(e)===_},isStrictMode:function(e){return I(e)===S},isSuspense:function(e){return I(e)===C},isValidElementType:function(e){return"string"==typeof e||"function"==typeof e||e===E||e===R||e===_||e===S||e===C||e===x||"object"==typeof e&&null!==e&&(e.$$typeof===N||e.$$typeof===T||e.$$typeof===P||e.$$typeof===k||e.$$typeof===O||e.$$typeof===j||e.$$typeof===B||e.$$typeof===A||e.$$typeof===D)},typeOf:I};Object(o.b)((function(e,t){})),Object(o.b)((function(e){e.exports=Y})),Function.call.bind(Object.prototype.hasOwnProperty);function z(){}function H(){}H.resetWarningCache=z;var V,F=Object(o.b)((function(e){e.exports=function(){function e(e,t,n,o,a,i){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==i){var r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw r.name="Invariant Violation",r}}function t(){return e}e.isRequired=e;var n={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:H,resetWarningCache:z};return n.PropTypes=n,n}()}));function X(){for(var e=[],t=arguments.length,n=new Array(t),o=0;o<t;o++)n[o]=arguments[o];return n.forEach((function(t){if(t)switch(h(t)){case"string":e.push(t);break;case"object":Object.keys(t).forEach((function(n){t[n]&&e.push(n)}));break;default:e.push("".concat(t))}})),e.join(" ")}!function(e){e.ANDROID="android",e.IOS="ios",e.VKCOM="vkcom"}(V||(V={}));var U=V.ANDROID,W=V.IOS;V.VKCOM;function q(e){var t=e||r&&navigator.userAgent||"";return/iphone|ipad|ipod/i.test(t)?W:U}var K=q()===W;function G(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:q();return"".concat(e," ").concat(e,"--").concat(t)}var $=Object(o.b)((function(e){function t(){return e.exports=t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},t.apply(this,arguments)}e.exports=t}));var J=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a};var Q,Z,ee,te=function(e,t){if(null==e)return{};var n,o,a=J(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a},ne=o.e.createContext({platform:null,userAgent:""});!function(e){e.DARK="dark",e.LIGHT="light"}(Q||(Q={})),function(e){e.DEPRECATED_CLIENT_LIGHT="client_light",e.DEPRECATED_CLIENT_DARK="client_dark",e.BRIGHT_LIGHT="bright_light",e.SPACE_GRAY="space_gray"}(Z||(Z={})),function(e){e.VKAPPS="vkapps",e.INTERNAL="internal"}(ee||(ee={}));var oe,ae,ie={webviewType:ee.VKAPPS,isWebView:i.a.isWebView(),scheme:Z.BRIGHT_LIGHT,appearance:Q.LIGHT,transitionMotionEnabled:!0,platform:q()},re=o.e.createContext(ie);function se(e){return function(t){var n=o.e.useContext(ne),a=o.e.useContext(re).platform;return o.e.createElement(e,$({},t,{platform:n.platform||a}))}}!function(e){e.COMPACT="compact",e.REGULAR="regular"}(oe||(oe={})),function(e){e[e.SMALL_MOBILE=1]="SMALL_MOBILE",e[e.MOBILE=2]="MOBILE",e[e.SMALL_TABLET=3]="SMALL_TABLET",e[e.TABLET=4]="TABLET",e[e.DESKTOP=5]="DESKTOP"}(ae||(ae={}));var ce=o.e.createContext({sizeX:oe.COMPACT,sizeY:oe.REGULAR});function le(e,t){return function(n){var a=o.e.useContext(ce),i=!1;(n.sizeX||n.sizeY)&&(i=!0);var r=n.sizeX||a.sizeX,s=n.sizeY||a.sizeY,c=a.viewWidth,l={};t.sizeX&&(l.sizeX=r),t.sizeY&&(l.sizeY=s),t.viewWidth&&(l.viewWidth=c);var u=o.e.createElement(e,$({},n,l));return i?o.e.createElement(ce.Provider,{value:{sizeX:r,sizeY:s,viewWidth:c}},u):u}}function ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var de=o.e.createContext({colRef:null,animate:!0}),pe=function(e){f(n,e);var t=ue(n);function n(){var e;c(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),y(d(e),"baseRef",o.e.createRef()),e}return u(n,[{key:"getContext",value:function(){return{colRef:this.baseRef,animate:this.props.animate}}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.width,a=e.maxWidth,i=e.minWidth,r=e.spaced;return o.e.createElement("div",{style:{width:n,maxWidth:a,minWidth:i,margin:r?"0 16px":null},ref:this.baseRef,className:"SplitLayout__col"},o.e.createElement(de.Provider,{value:this.getContext()},t))}}]),n}(o.e.Component);function fe(e,t,n){return function(a){var i=o.e.useContext(t);return o.e.createElement(e,$({},a,y({},n,i)))}}function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function me(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ve(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}y(pe,"defaultProps",{animate:!1});var ye=function(e){f(n,e);var t=ve(n);function n(e){var o;return c(this,n),o=t.call(this,e),y(d(o),"animationFinishTimeout",void 0),y(d(o),"onAnimationEnd",(function(e){if(!e||["root-android-animation-hide-back","root-android-animation-show-forward","root-ios-animation-hide-back","root-ios-animation-show-forward"].includes(e.animationName)){var t=o.state.isBack,n=o.state.prevView,a=o.state.nextView;o.setState({activeView:a,prevView:null,nextView:null,visibleViews:[a],transition:!1,isBack:void 0},(function(){o.window.scrollTo(0,t?o.state.scrolls[o.state.activeView]:0),o.props.onTransition&&o.props.onTransition({isBack:t,from:n,to:a})}))}})),o.state={activeView:e.activeView,prevView:null,nextView:null,visibleViews:[e.activeView],isBack:void 0,scrolls:{},transition:!1},o}return u(n,[{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.activeView!==e.activeView){var o=this.window.pageYOffset,a=[].concat(e.children).find((function(t){return t.props.id===e.activeView||t.props.id===n.props.activeView})).props.id===this.props.activeView;this.blurActiveElement();var i=this.props.activeView,r=e.activeView;this.setState({scrolls:me(me({},this.state.scrolls),{},y({},e.activeView,o)),transition:!0,activeView:null,nextView:i,prevView:r,visibleViews:[i,r],isBack:a})}if(!t.transition&&this.state.transition){var s=this.document.getElementById("view-".concat(this.state.prevView)),c=this.document.getElementById("view-".concat(this.state.nextView));s.querySelector(".View__panel").scrollTop=this.state.scrolls[this.state.prevView],this.state.isBack&&(c.querySelector(".View__panel").scrollTop=this.state.scrolls[this.state.nextView]),this.waitAnimationFinish(this.state.isBack?s:c,this.onAnimationEnd)}}},{key:"shouldDisableTransitionMotion",value:function(){return!1===this.props.configProvider.transitionMotionEnabled||!this.props.splitCol.animate}},{key:"waitAnimationFinish",value:function(e,t){this.shouldDisableTransitionMotion()?t():(clearTimeout(this.animationFinishTimeout),this.animationFinishTimeout=setTimeout(t.bind(this),this.props.platform===U?300:600))}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"render",value:function(){var e=this,t=this.props,n=t.popout,a=t.modal,i=t.platform,r=this.state,s=r.transition,c=r.isBack,l=r.prevView,u=r.activeView,d=r.nextView,p=this.arrayChildren.filter((function(t){return e.state.visibleViews.includes(t.props.id)})),f=G("Root",i);return o.e.createElement("div",{className:X(f,this.props.className,{"Root--transition":s,"Root--no-motion":this.shouldDisableTransitionMotion()})},p.map((function(e){return o.e.createElement("div",{key:e.props.id,id:"view-".concat(e.props.id),className:X("Root__view",{"Root__view--hide-back":e.props.id===l&&c,"Root__view--hide-forward":e.props.id===l&&!c,"Root__view--show-back":e.props.id===d&&c,"Root__view--show-forward":e.props.id===d&&!c,"Root__view--active":e.props.id===u})},e)})),!!n&&o.e.createElement("div",{className:"Root__popout"},n),!!a&&o.e.createElement("div",{className:"Root__modal"},a))}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"arrayChildren",get:function(){return[].concat(this.props.children)}}]),n}(o.e.Component);y(ye,"defaultProps",{popout:null}),y(ye,"contextTypes",{window:F.any,document:F.any});var ge=fe(fe(se(ye),de,"splitCol"),re,"configProvider");var we=function(e){return e.clientX||e.changedTouches&&e.changedTouches[0].clientX},be=function(e){return e.clientY||e.changedTouches&&e.changedTouches[0].clientY},Ee="undefined"!=typeof window&&"ontouchstart"in window;function Se(e,t,n,o){if(o||e<0)return e;var a=e*n;return a*t/(a+t)}function _e(e){return"function"==typeof e}function Pe(e){var t=e.toFixed();return 1===t.length?"0"+t:t}function ke(e){return void 0!==e&&!1!==e&&null!==e}function Me(e,t){t&&("function"==typeof t?t(e):t.current=e)}function Re(e,t,n){if("function"!=typeof e.CustomEvent){var o=n||{bubbles:!1,cancelable:!1,detail:null},a=document.createEvent("CustomEvent");return a.initCustomEvent(t,o.bubbles,o.cancelable,o.detail),a}return new e.CustomEvent(t,n)}function Oe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Oe(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Oe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function xe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Te=Ee?["touchstart","touchmove","touchend","touchcancel"]:["mousedown","mousemove","mouseup","mouseleave"],Ne=function(e){f(n,e);var t=xe(n);function n(e){var o;return c(this,n),o=t.call(this,e),y(d(o),"cancelClick",void 0),y(d(o),"gesture",{}),y(d(o),"container",void 0),y(d(o),"onEnter",(function(e){o.props.onEnter&&o.props.onEnter(e)})),y(d(o),"onLeave",(function(e){o.props.onLeave&&o.props.onLeave(e)})),y(d(o),"onStart",(function(e){o.gesture={startX:we(e),startY:be(e),startT:new Date,isPressed:!0};var t=Ce(Ce({},o.gesture),{},{originalEvent:e});o.props.onStart&&o.props.onStart(t),o.props.onStartX&&o.props.onStartX(t),o.props.onStartY&&o.props.onStartY(t),!Ee&&o.subscribe(o.document)})),y(d(o),"onMove",(function(e){var t=o.gesture,n=t.isPressed,a=t.isX,i=t.isY,r=t.startX,s=t.startY;if(n){var c=we(e)-r,l=be(e)-s,u=Math.abs(c),d=Math.abs(l);if(e.touches&&e.touches.length>1)return o.onEnd(e);if(!a&&!i){var p=u>=5&&u>d,f=d>=5&&d>u,h=p&&!!o.props.onMoveX||!!o.props.onMove,m=f&&!!o.props.onMoveY||!!o.props.onMove;o.gesture.isY=f,o.gesture.isX=p,o.gesture.isSlideX=h,o.gesture.isSlideY=m,o.gesture.isSlide=h||m}if(o.gesture.isSlide){o.gesture.shiftX=c,o.gesture.shiftY=l,o.gesture.shiftXAbs=u,o.gesture.shiftYAbs=d;var v=Ce(Ce({},o.gesture),{},{originalEvent:e});o.props.onMove&&o.props.onMove(v),o.gesture.isSlideX&&o.props.onMoveX&&o.props.onMoveX(v),o.gesture.isSlideY&&o.props.onMoveY&&o.props.onMoveY(v)}}})),y(d(o),"onEnd",(function(e){var t=o.gesture,n=t.isPressed,a=t.isSlide,i=t.isSlideX,r=t.isSlideY;if(n){var s=Ce(Ce({},o.gesture),{},{originalEvent:e});o.props.onEnd&&o.props.onEnd(s),r&&o.props.onEndY&&o.props.onEndY(s),i&&o.props.onEndX&&o.props.onEndX(s)}var c=e.target;o.cancelClick="A"===c.tagName&&a,o.gesture={},"touchend"!==e.type&&"touchcancel"!==e.type||o.onLeave(e),!Ee&&o.unsubscribe(o.document)})),y(d(o),"onDragStart",(function(e){var t=e.target;"A"!==t.tagName&&"IMG"!==t.tagName||e.preventDefault()})),y(d(o),"onClick",(function(e){o.cancelClick&&(o.cancelClick=!1,e.preventDefault()),o.props.onClick&&o.props.onClick(e)})),y(d(o),"getRef",(function(e){o.container=e,Me(e,o.props.getRootRef)})),o.cancelClick=!1,o}return u(n,[{key:"componentDidMount",value:function(){r&&(this.container.addEventListener(Te[0],this.onStart,{capture:this.props.useCapture,passive:!1}),Ee&&this.subscribe(this.container),this.container.addEventListener("mouseenter",this.onEnter,{capture:this.props.useCapture,passive:!0}),this.container.addEventListener("mouseleave",this.onLeave,{capture:this.props.useCapture,passive:!0}))}},{key:"componentWillUnmount",value:function(){this.container.removeEventListener(Te[0],this.onStart),Ee&&this.unsubscribe(this.container),this.container.removeEventListener("mouseenter",this.onEnter),this.container.removeEventListener("mouseleave",this.onLeave)}},{key:"subscribe",value:function(e){var t={capture:this.props.useCapture,passive:!1};e.addEventListener(Te[1],this.onMove,t),e.addEventListener(Te[2],this.onEnd,t),e.addEventListener(Te[3],this.onEnd,t)}},{key:"unsubscribe",value:function(e){var t={capture:this.props.useCapture,passive:!1};e.removeEventListener(Te[1],this.onMove,t),e.removeEventListener(Te[2],this.onEnd,t),e.removeEventListener(Te[3],this.onEnd,t)}},{key:"render",value:function(){var e=this.props,t=(e.onStart,e.onStartX,e.onStartY,e.onMove,e.onMoveX,e.onMoveY,e.onLeave,e.onEnter,e.onEnd,e.onEndX,e.onEndY,e.useCapture,e.Component),n=(e.getRootRef,te(e,["onStart","onStartX","onStartY","onMove","onMoveX","onMoveY","onLeave","onEnter","onEnd","onEndX","onEndY","useCapture","Component","getRootRef"]));return o.e.createElement(t,$({},n,{onDragStart:this.onDragStart,onClick:this.onClick,ref:this.getRef}),this.props.children)}},{key:"document",get:function(){return this.context.document||document}}]),n}(o.e.Component);function De(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?De(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):De(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Be(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=je({},e);return t.forEach((function(e){return delete n[e]})),n}function Ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Ie(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ae(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}y(Ne,"defaultProps",{Component:"div",children:"",useCapture:!1}),y(Ne,"contextTypes",{document:F.object});var Ye;!function(e){e[e.fail=1]="fail",e[e.success=2]="success"}(Ye||(Ye={}));var ze={},He=["input","textarea"],Ve=function(e){f(n,e);var t=Le(n);function n(e){var o;return c(this,n),o=t.call(this,e),y(d(o),"transitionFinishTimeout",void 0),y(d(o),"animationFinishTimeout",void 0),y(d(o),"transitionEndHandler",(function(e){if(!e||["animation-ios-next-forward","animation-ios-prev-back","animation-android-next-forward","animation-android-prev-back"].includes(e.animationName)){var t=o.props.activePanel,n=o.state.isBack,a=o.state.prevPanel;o.document.dispatchEvent(Re(o.window,"VKUI:View:transition-end")),o.setState({prevPanel:null,nextPanel:null,visiblePanels:[t],activePanel:t,animated:!1,isBack:void 0,scrolls:n?Be(o.state.scrolls,[a]):o.state.scrolls},(function(){n&&o.window.scrollTo(0,o.state.scrolls[t]),o.props.onTransition&&o.props.onTransition({isBack:n,from:a,to:t})}))}})),y(d(o),"swipingBackTransitionEndHandler",(function(e){var t=e.target;if(e.propertyName.includes("transform")&&t.classList.contains("View__panel--swipe-back-next"))switch(o.state.swipeBackResult){case Ye.fail:o.onSwipeBackCancel();break;case Ye.success:o.onSwipeBackSuccess()}})),y(d(o),"onScrollTop",(function(){if(o.state.activePanel){var e=o.document.body.scrollTop||o.document.documentElement.scrollTop;e&&function(e){var t=e.duration,n=e.timing,o=e.draw;if("undefined"!=typeof window){var a=window.performance.now();window.requestAnimationFrame((function e(i){var r=(i-a)/t;r>1&&(r=1);var s=n(r);o(s),r<1&&window.requestAnimationFrame(e)}))}}({duration:200,timing:function(e){return Math.sqrt(e)},draw:function(t){o.window.scrollTo(0,e-t*e)}})}})),y(d(o),"onMoveX",(function(e){var t=e.originalEvent.target;if(!t||"string"!=typeof t.tagName||!He.includes(t.tagName.toLowerCase())){var n=o.props,a=n.platform,i=n.configProvider;if(a!==W||i.isWebView||!(e.startX<=70||e.startX>=o.window.innerWidth-70)||o.state.browserSwipe||o.setState({browserSwipe:!0}),a===W&&i.isWebView&&o.props.onSwipeBack){if(o.state.animated&&e.startX<=70)return;var r;if(e.startX<=70&&!o.state.swipingBack&&o.props.history.length>1&&o.setState({swipingBack:!0,swipebackStartX:e.startX,startT:e.startT,swipeBackPrevPanel:o.state.activePanel,swipeBackNextPanel:o.props.history.slice(-2)[0],scrolls:Ie(Ie({},o.state.scrolls),{},y({},o.state.activePanel,o.window.pageYOffset))}),o.state.swipingBack)r=e.shiftX<0?0:e.shiftX>o.window.innerWidth-o.state.swipebackStartX?o.window.innerWidth:e.shiftX,o.setState({swipeBackShift:r})}}})),y(d(o),"onEnd",(function(){if(o.state.swipingBack){var e=o.state.swipeBackShift/(Date.now()-o.state.startT.getTime())*1e3;0===o.state.swipeBackShift?o.onSwipeBackCancel():o.state.swipeBackShift>=o.window.innerWidth?o.onSwipeBackSuccess():e>250||o.state.swipebackStartX+o.state.swipeBackShift>o.window.innerWidth/2?o.setState({swipeBackResult:Ye.success}):o.setState({swipeBackResult:Ye.fail})}})),o.state={scrolls:ze[e.id]||{},animated:!1,visiblePanels:[e.activePanel],activePanel:e.activePanel,isBack:void 0,prevPanel:null,nextPanel:null,swipingBack:!1,swipebackStartX:0,swipeBackShift:0,swipeBackNextPanel:null,swipeBackPrevPanel:null,swipeBackResult:null,browserSwipe:!1},o}return u(n,[{key:"componentWillUnmount",value:function(){this.props.id&&(ze[this.props.id]=this.state.scrolls)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.popout&&!e.popout&&this.blurActiveElement(),this.props.modal&&!e.modal&&this.blurActiveElement(),e.activePanel!==this.props.activePanel&&!t.swipingBack&&!t.browserSwipe){var o=this.panels.find((function(t){return t.props.id===e.activePanel||t.props.id===n.props.activePanel})),a=o&&o.props.id===this.props.activePanel;this.blurActiveElement(),this.setState({visiblePanels:[e.activePanel,this.props.activePanel],prevPanel:e.activePanel,nextPanel:this.props.activePanel,activePanel:null,animated:!0,scrolls:Ie(Ie({},t.scrolls),{},y({},e.activePanel,this.window.pageYOffset)),isBack:a})}if(e.activePanel!==this.props.activePanel&&t.swipingBack){var i=this.props.activePanel,r=e.activePanel;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0,activePanel:i,visiblePanels:[i],scrolls:Be(t.scrolls,[t.swipeBackPrevPanel])},(function(){n.document.dispatchEvent(Re(n.window,"VKUI:View:transition-end")),window.scrollTo(0,t.scrolls[n.state.activePanel]),e.onTransition&&e.onTransition({isBack:!0,from:r,to:i})}))}var s=this.state.scrolls;if(!t.animated&&this.state.animated){this.document.dispatchEvent(Re(this.window,"VKUI:View:transition-start",{detail:{scrolls:s}}));var c=this.pickPanel(this.state.nextPanel);this.pickPanel(this.state.prevPanel).scrollTop=s[this.state.prevPanel],this.state.isBack&&(c.scrollTop=s[this.state.nextPanel]),this.waitAnimationFinish(this.pickPanel(this.state.isBack?this.state.prevPanel:this.state.nextPanel),this.transitionEndHandler)}if(!t.swipingBack&&this.state.swipingBack){this.document.dispatchEvent(Re(this.window,"VKUI:View:transition-start",{detail:{scrolls:s}})),this.props.onSwipeBackStart&&this.props.onSwipeBackStart();var l=this.pickPanel(this.state.swipeBackNextPanel),u=this.pickPanel(this.state.swipeBackPrevPanel);l.scrollTop=s[this.state.swipeBackNextPanel],u.scrollTop=s[this.state.swipeBackPrevPanel]}!t.swipeBackResult&&this.state.swipeBackResult&&this.waitTransitionFinish(this.pickPanel(this.state.swipeBackNextPanel),this.swipingBackTransitionEndHandler),t.swipeBackResult!==Ye.fail||this.state.swipeBackResult||this.window.scrollTo(0,s[this.state.activePanel]),e.activePanel!==this.props.activePanel&&this.state.browserSwipe&&this.setState({browserSwipe:!1,nextPanel:null,prevPanel:null,animated:!1,visiblePanels:[this.props.activePanel],activePanel:this.props.activePanel})}},{key:"shouldDisableTransitionMotion",value:function(){return!1===this.props.configProvider.transitionMotionEnabled||!this.props.splitCol.animate}},{key:"waitTransitionFinish",value:function(e,t){clearTimeout(this.transitionFinishTimeout),this.transitionFinishTimeout=setTimeout(t,this.props.platform===U?300:600)}},{key:"waitAnimationFinish",value:function(e,t){this.shouldDisableTransitionMotion()?t():(clearTimeout(this.animationFinishTimeout),this.animationFinishTimeout=setTimeout(t,this.props.platform===U?300:600))}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement&&this.document.activeElement.blur()}},{key:"pickPanel",value:function(e){var t=this.document.getElementById(e);return t||console.warn("Element #".concat(e," not found")),t&&t.parentNode.parentNode}},{key:"onSwipeBackSuccess",value:function(){this.props.onSwipeBack&&this.props.onSwipeBack()}},{key:"onSwipeBackCancel",value:function(){var e=this;this.setState({swipeBackPrevPanel:null,swipeBackNextPanel:null,swipingBack:!1,swipeBackResult:null,swipebackStartX:0,swipeBackShift:0},(function(){e.document.dispatchEvent(Re(e.window,"VKUI:View:transition-end"))}))}},{key:"calcPanelSwipeStyles",value:function(e){var t=e===this.state.swipeBackPrevPanel,n=e===this.state.swipeBackNextPanel;if(!t&&!n||this.state.swipeBackResult)return{};var o="".concat(this.state.swipeBackShift,"px"),a="".concat(100*this.state.swipeBackShift/this.window.innerWidth/2-50,"%"),i=.3*(this.window.innerWidth-this.state.swipeBackShift)/this.window.innerWidth;return this.state.swipeBackResult?t?{boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}:n?{transform:"translate3d(".concat(a,", 0, 0)"),WebkitTransform:"translate3d(".concat(a,", 0, 0)")}:t?{transform:"translate3d(".concat(o,", 0, 0)"),WebkitTransform:"translate3d(".concat(o,", 0, 0)"),boxShadow:"-2px 0 12px rgba(0, 0, 0, ".concat(i,")")}:{}}},{key:"render",value:function(){var e=this,t=this.props,n=t.style,a=t.popout,i=t.modal,r=t.platform,s=this.state,c=s.prevPanel,l=s.nextPanel,u=s.activePanel,d=s.swipeBackPrevPanel,p=s.swipeBackNextPanel,f=s.swipeBackResult,h=!!a,m=!!i,v=this.panels.filter((function(t){var n=t.props.id;return e.state.visiblePanels.includes(n)||n===d||n===p})),y={"View--animated":this.state.animated,"View--swiping-back":this.state.swipingBack,"View--no-motion":this.shouldDisableTransitionMotion()};return o.e.createElement(Ne,{Component:"section",className:X(G("View",r),this.props.className,y),style:n,onMoveX:this.onMoveX,onEnd:this.onEnd},o.e.createElement("div",{className:"View__panels"},v.map((function(t){var n=t.props.id;return o.e.createElement("div",{className:X("View__panel",{"View__panel--active":n===u,"View__panel--prev":n===c,"View__panel--next":n===l,"View__panel--swipe-back-prev":n===d,"View__panel--swipe-back-next":n===p,"View__panel--swipe-back-success":f===Ye.success,"View__panel--swipe-back-failed":f===Ye.fail}),style:e.calcPanelSwipeStyles(n),key:n},o.e.createElement("div",{className:"View__panel-in"},t))}))),h&&o.e.createElement("div",{className:"View__popout"},a),m&&o.e.createElement("div",{className:"View__modal"},i))}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"panels",get:function(){return[].concat(this.props.children)}}]),n}(o.e.Component);y(Ve,"defaultProps",{history:[]}),y(Ve,"contextTypes",{window:F.any,document:F.any});var Fe=fe(fe(se(Ve),de,"splitCol"),re,"configProvider"),Xe=o.e.createContext({});function Ue(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var We=function(e){f(n,e);var t=Ue(n);function n(e){var o;return c(this,n),o=t.call(this,e),y(d(o),"childContext",void 0),y(d(o),"container",void 0),y(d(o),"getRef",(function(e){o.container=e,Me(e,o.props.getRootRef)})),o.childContext={panel:e.id},o}return u(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.centered,a=e.children,i=e.platform,r=(e.getRootRef,e.sizeX),s=te(e,["className","centered","children","platform","getRootRef","sizeX"]);return o.e.createElement(Xe.Provider,{value:this.childContext},o.e.createElement("div",$({},s,{ref:this.getRef,className:X(G("Panel",i),t,"Panel--".concat(r),y({"Panel--centered":n},"Panel--sizeX-".concat(r),!0))}),o.e.createElement(Ne,{className:"Panel__in"},i===W&&o.e.createElement("div",{className:"Panel__fade"}),o.e.createElement("div",{className:"Panel__in-before"}),n?o.e.createElement("div",{className:"Panel__centered"},a):a,o.e.createElement("div",{className:"Panel__in-after"}))))}}]),n}(o.e.Component);y(We,"defaultProps",{children:"",centered:!1});var qe,Ke,Ge=le(se(We),{sizeX:!0}),$e=o.e.createContext(!1);function Je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Qe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Je(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Je(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ze(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}K?(qe=!1,Ke=!1):"ontouchstart"in document?(qe=window.matchMedia&&matchMedia("(any-pointer)").matches?matchMedia("(any-pointer: fine)").matches:/android|mobile|tablet/i.test(navigator.userAgent),Ke=qe&&!(!window.matchMedia||!matchMedia("(hover)").matches)&&matchMedia("(hover: hover)").matches):(qe=!0,Ke=!0);var et=function(){return+Date.now()},tt={};function nt(e){Object.keys(tt).filter((function(t){return t!==e})).forEach((function(e){clearTimeout(tt[e].activeTimeout),clearTimeout(tt[e].timeout),tt[e].stop(),delete tt[e]}))}var ot=function(e){f(n,e);var t=Ze(n);function n(e){var o;return c(this,n),o=t.call(this,e),y(d(o),"id",void 0),y(d(o),"isSlide",void 0),y(d(o),"insideTouchRoot",void 0),y(d(o),"container",void 0),y(d(o),"timeout",void 0),y(d(o),"wavesTimeout",void 0),y(d(o),"onStart",(function(e){var t=e.originalEvent;!o.insideTouchRoot&&o.props.stopPropagation&&t.stopPropagation(),t.touches&&t.touches.length>1?nt():(o.props.platform===U&&o.onDown(t),tt[o.id]={stop:o.stop,activeTimeout:window.setTimeout(o.start,70)})})),y(d(o),"onMove",(function(e){var t=e.originalEvent,n=e.shiftXAbs,a=e.shiftYAbs;!o.insideTouchRoot&&o.props.stopPropagation&&t.stopPropagation(),(n>20||a>20)&&(o.isSlide=!0,o.stop())})),y(d(o),"onEnd",(function(e){var t=e.originalEvent;!o.insideTouchRoot&&o.props.stopPropagation&&t.stopPropagation();var n=et();if(t.touches&&t.touches.length>0)return o.isSlide=!1,void o.stop();if(o.state.active)if(n-o.state.ts>=100)o.stop();else{var a=window.setTimeout(o.stop,o.props.activeEffectDelay-n+o.state.ts),i=o.getStorage();i&&(i.timeout=a)}else if(!o.isSlide){o.start();var r=window.setTimeout(o.stop,o.props.activeEffectDelay);o.getStorage()?(clearTimeout(o.getStorage().activeTimeout),o.getStorage().timeout=r):o.timeout=r}o.isSlide=!1})),y(d(o),"onDown",(function(e){if(o.props.platform===U){var t=(c=o.container,{top:(l=c.getBoundingClientRect()).top,left:l.left,width:c.offsetWidth,height:c.offsetHeight}),n=t.top,a=t.left,i=we(e)-a,r=be(e)-n,s="wave"+Date.now().toString();o.setState((function(e){return{clicks:Qe(Qe({},e.clicks),{},y({},s,{x:i,y:r}))}})),o.wavesTimeout=window.setTimeout((function(){o.setState((function(e){var t=Qe({},e.clicks);return delete t[s],{clicks:t}}))}),225)}var c,l})),y(d(o),"onEnter",(function(){o.setState({hovered:!0})})),y(d(o),"onLeave",(function(){o.setState({hovered:!1})})),y(d(o),"start",(function(){o.state.active||o.setState({active:!0,ts:et()}),nt(o.id)})),y(d(o),"stop",(function(){o.state.active&&o.setState({active:!1,ts:null}),o.getStorage()&&(clearTimeout(o.getStorage().activeTimeout),delete tt[o.id])})),y(d(o),"getStorage",(function(){return tt[o.id]})),y(d(o),"getRef",(function(e){o.container=e,Me(e,o.props.getRootRef)})),y(d(o),"containerHasTransparentBackground",(function(){return!o.container||(!o.container.style.backgroundColor||"transparent"===o.container.style.backgroundColor)})),o.id=Math.round(1e8*Math.random()).toString(16),o.state={clicks:{},active:!1,ts:null},o.isSlide=!1,o}return u(n,[{key:"componentWillUnmount",value:function(){tt[this.id]&&(clearTimeout(tt[this.id].timeout),clearTimeout(tt[this.id].activeTimeout),delete tt[this.id]),clearTimeout(this.wavesTimeout)}},{key:"render",value:function(){var e=this,t=this.state,n=t.clicks,a=t.active,i=t.hovered,r=this.props,s=r.children,c=r.className,l=r.Component,u=(r.activeEffectDelay,r.stopPropagation,r.getRootRef,r.platform),d=te(r,["children","className","Component","activeEffectDelay","stopPropagation","getRootRef","platform"]),p=this.containerHasTransparentBackground()?"shadowHovered":"opacityHovered",f=X(G("Tappable",u),c,y({"Tappable--active":a,"Tappable--inactive":!a},"Tappable--".concat(p),Ke&&i)),h=d.disabled?l:Ne,m={};return d.disabled?m.ref=this.getRef:(m.Component=l,m.onStart=this.onStart,m.onMove=this.onMove,m.onEnd=this.onEnd,m.onEnter=this.onEnter,m.onLeave=this.onLeave,m.getRootRef=this.getRef),o.e.createElement($e.Consumer,null,(function(t){return e.insideTouchRoot=t,o.e.createElement(h,$({},d,{className:f},m),s,u===U&&o.e.createElement("span",{className:"Tappable__waves"},Object.keys(n).map((function(e){return o.e.createElement("span",{className:"Tappable__wave",style:{top:n[e].y,left:n[e].x},key:e})}))),Ke&&o.e.createElement("span",{className:"Tappable__hoverShadow"}))}))}}]),n}(o.e.Component);y(ot,"defaultProps",{Component:"div",role:"button",stopPropagation:!1,disabled:!1,activeEffectDelay:600});var at=se(ot);function it(){var e=o.e.useContext(ne),t=o.e.useContext(re).platform;return e.platform||t}var rt=function(e){var t=e.className,n=e.children,a=e.primary,i=e.label,r=te(e,["className","children","primary","label"]),s="string"==typeof n||"number"==typeof n,c=r.href?"a":"button",l=it();return o.e.createElement(at,$({},r,{Component:c,activeEffectDelay:200,className:X(G("PanelHeaderButton",l),t,{"PanelHeaderButton--primary":a,"PanelHeaderButton--primitive":s})}),n,i)};function st(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?st(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):st(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function lt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}rt.defaultProps={primary:!1};var ut=function(e){f(n,e);var t=lt(n);function n(){var e;c(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y(d(e),"state",{position:"absolute",top:null,width:""}),y(d(e),"el",void 0),y(d(e),"onMountResizeTimeout",void 0),y(d(e),"onViewTransitionStart",(function(t){var n=t.detail.scrolls[e.props.panel]||0;e.setState({position:"absolute",top:e.el.offsetTop+n,width:""})})),y(d(e),"onViewTransitionEnd",(function(){e.setState({position:null,top:null}),e.doResize()})),y(d(e),"doResize",(function(){var t=e.props.splitCol.colRef;if(t&&t.current){var n=t.current.offsetWidth;e.setState({width:"".concat(n,"px"),position:null})}else e.setState({width:"",position:null})})),y(d(e),"getRef",(function(t){e.el=t,Me(t,e.props.getRootRef)})),e}return u(n,[{key:"componentDidMount",value:function(){var e=this;this.onMountResizeTimeout=setTimeout((function(){return e.doResize()})),window.addEventListener("resize",this.doResize),this.document.addEventListener("VKUI:View:transition-start",this.onViewTransitionStart),this.document.addEventListener("VKUI:View:transition-end",this.onViewTransitionEnd)}},{key:"componentWillUnmount",value:function(){clearInterval(this.onMountResizeTimeout),window.removeEventListener("resize",this.doResize),this.document.removeEventListener("VKUI:View:transition-start",this.onViewTransitionStart),this.document.removeEventListener("VKUI:View:transition-end",this.onViewTransitionEnd)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.children,a=e.style,i=e.vertical,r=(e.getRootRef,e.platform),s=e.filled,c=(e.splitCol,e.panel,te(e,["className","children","style","vertical","getRootRef","platform","filled","splitCol","panel"]));return o.e.createElement("div",$({},c,{ref:this.getRef,className:X(G("FixedLayout",r),{"FixedLayout--filled":s},"FixedLayout--".concat(i),t),style:ct(ct({},a),this.state)}),o.e.createElement("div",{className:"FixedLayout__in"},n))}},{key:"document",get:function(){return this.context.document||document}}]),n}(o.e.Component);y(ut,"contextTypes",{document:F.any});var dt,pt=fe(se((dt=ut,function(e){var t=o.e.useContext(Xe).panel;return o.e.createElement(dt,$({},e,{panel:t}))})),de,"splitCol"),ft=function(e){var t=e.className,n=e.wide,a=e.expanded,i=te(e,["className","wide","expanded"]),r=it();return o.e.createElement("div",$({},i,{className:X(G("Separator",r),t,{"Separator--wide":n})}),o.e.createElement("div",{className:X("Separator__in",{"Separator__in--expanded":a})}))},ht=o.e.memo(ft),mt=function(e){var t=e.className,n=e.left,a=e.addon,i=e.children,r=e.right,s=e.separator,c=e.visor,l=e.transparent,u=e.shadow,d=e.getRef,p=e.getRootRef,f=e.sizeX,h=te(e,["className","left","addon","children","right","separator","visor","transparent","shadow","getRef","getRootRef","sizeX"]),m=it(),v=o.e.useContext(re).webviewType,y=u&&f===oe.REGULAR,g="string"==typeof i||"number"==typeof i;return o.e.createElement("div",$({},h,{className:X(G("PanelHeader",m),{"PanelHeader--trnsp":l,"PanelHeader--shadow":y,"PanelHeader--vis":c,"PanelHeader--sep":s&&c,"PanelHeader--vkapps":v===ee.VKAPPS,"PanelHeader--no-left":void 0===n,"PanelHeader--no-right":void 0===r},t),ref:p}),o.e.createElement(pt,{vertical:"top",className:X("PanelHeader__fixed",{"PanelHeader__fixed--shadow":y}),getRootRef:d},o.e.createElement("div",{className:"PanelHeader__in"},o.e.createElement("div",{className:"PanelHeader__left"},n,m!==U&&a),o.e.createElement("div",{className:"PanelHeader__content"},g?o.e.createElement("span",null,i):i),o.e.createElement("div",{className:"PanelHeader__right"},v!==ee.VKAPPS&&r))),s&&c&&o.e.createElement(ht,{className:f===oe.COMPACT?"PanelHeader__separator":"",expanded:f===oe.REGULAR}))};mt.defaultProps={separator:!0,transparent:!1,visor:!0};var vt=le(mt,{sizeX:!0});var yt=function(e){if(Array.isArray(e))return e};var gt=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],o=!0,a=!1,i=void 0;try{for(var r,s=e[Symbol.iterator]();!(o=(r=s.next()).done)&&(n.push(r.value),!t||n.length!==t);o=!0);}catch(e){a=!0,i=e}finally{try{o||null==s.return||s.return()}finally{if(a)throw i}}return n}};var wt=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o};var bt=function(e,t){if(e){if("string"==typeof e)return wt(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?wt(e,t):void 0}};var Et=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var St=function(e,t){return yt(e)||gt(e,t)||bt(e,t)||Et()},_t=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.addSpriteSymbol=function(e){r&&r.add(e)},t.useIsomorphicLayoutEffect=void 0;var n,i=(n=a.b)&&n.__esModule?n:{default:n};var r,s=!("undefined"==typeof window||!window.document||!window.document.createElement);if(s){r=new i.default({attrs:{id:"__SVG_SPRITE_NODE__"}});var c=function(){var e=document.getElementById("__SVG_SPRITE_NODE__");e?r.attach(e):r.mount()};document.querySelector("body")?c():document.addEventListener("DOMContentLoaded",c)}else r=null;var l=s?o.e.useLayoutEffect:o.e.useEffect;t.useIsomorphicLayoutEffect=l})),Pt=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.SvgIcon=void 0;var n,a=(n=o.e)&&n.__esModule?n:{default:n};function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},i=Object.keys(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(o=0;o<i.length;o++)n=i[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var u={display:"block"},d=function(e){var t=e.width,n=e.height,o=e.viewBox,r=e.id,c=e.className,d=e.style,p=e.fill,f=e.getRootRef,h=l(e,["width","height","viewBox","id","className","style","fill","getRootRef"]),m=Math.max(t,n);return a.default.createElement("div",i({},h,{ref:f,className:"Icon Icon--".concat(m," Icon--w-").concat(t," Icon--h-").concat(n," Icon--").concat(r," ").concat(c),style:s({},d,{width:t,height:n})}),a.default.createElement("svg",{viewBox:o,width:t,height:n,style:u},a.default.createElement("use",{xlinkHref:"#".concat(r),style:{fill:"currentColor",color:p}})))};t.SvgIcon=d,d.defaultProps={className:"",style:{}}})),kt=function(e){var t=e.children,n=e.className,a=e.weight,i=e.level,r=e.caps,s=te(e,["children","className","weight","level","caps"]),c=it(),l=a;return c===U&&"semibold"===a&&(l="medium"),o.e.createElement("div",$({},s,{className:X(G("Caption",c),"Caption--w-".concat(l),"Caption--l-".concat(i),{"Caption--caps":r},n)}),t)},Mt=function(e){var t=e.children,n=e.className,a=e.weight,i=e.Component,r=te(e,["children","className","weight","Component"]),s=it(),c=i,l=s===U&&"semibold"===a?"medium":a;return i||(c=s===U?"h4":"h5"),o.e.createElement(c,$({},r,{className:X(G("Subhead",s),"Subhead--w-".concat(l),n)}),t)},Rt=function(e){var t=e.children,n=e.className,a=e.weight,i=e.Component,r=te(e,["children","className","weight","Component"]),s=it(),c=i;i||(c=s===U?"h3":"h4");var l=a;return s===U&&"semibold"===a&&(l="medium"),o.e.createElement(c,$({},r,{className:X(G("Headline",s),"Headline--w-".concat(l),n)}),t)},Ot=function(e){var t=e.children,n=e.className,a=e.weight,i=e.level,r=e.Component,s=te(e,["children","className","weight","level","Component"]),c=it(),l=r||function(e){return e?"h"+e:"div"}(i),u=c===U?function(e,t){return"3"===e?"regular"===t?t:"medium":"2"===e&&"semibold"===t?"medium":"heavy"===t?"bold":t}(i,a):a;return c===U&&"3"===i?o.e.createElement(Rt,$({Component:l},s,{weight:u,className:n}),t):o.e.createElement(l,$({},s,{className:X(G("Title",c),"Title--w-".concat(u),"Title--l-".concat(i),n)}),t)},Ct=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="done_16",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 16 16",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="done_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v16H0z" /><path d="M6 10.2L3.5 7.7a.99.99 0 10-1.4 1.4l3.193 3.193a1 1 0 001.414 0L14.3 4.7a.99.99 0 00-1.4-1.4L6 10.2z" fill="currentColor" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 16 16",id:s,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?16:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),xt=Object(o.c)(Ct);var Tt=function(e){if(Array.isArray(e))return wt(e)};var Nt=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)};var Dt=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")};var jt=function(e){return Tt(e)||Nt(e)||bt(e)||Dt()};function Bt(e,t){e.style.transform=t,e.style.webkitTransform=t}var At,It=o.e.createContext({updateModalHeight:function(){}});function Lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Lt(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Lt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function zt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}function Ht(e,t){return e>=t[0]&&e<=t[1]}function Vt(e){return Math.max(0,Math.min(98,e))}!function(e){e.PAGE="page",e.CARD="card"}(At||(At={}));var Ft=function(e){f(n,e);var t=zt(n);function n(e){var a;c(this,n),a=t.call(this,e),y(d(a),"modalsState",void 0),y(d(a),"documentScrolling",void 0),y(d(a),"activeTransitions",void 0),y(d(a),"maskElementRef",void 0),y(d(a),"maskAnimationFrame",void 0),y(d(a),"modalRootContext",void 0),y(d(a),"frameIds",void 0),y(d(a),"preventTouch",(function(e){if(!e)return!1;for(;e.originalEvent;)e=e.originalEvent;return e.preventDefault&&e.preventDefault(),!1})),y(d(a),"updateModalHeight",(function(){var e=a.state,t=e.activeModal,n=e.nextModal,o=t||n,i=o?a.modalsState[o]:void 0;i&&i.type===At.PAGE&&i.dynamicContentHeight&&(a.state.switching?a.waitTransitionFinish(i,(function(){requestAnimationFrame((function(){return a.checkPageContentHeight()}))})):requestAnimationFrame((function(){return a.checkPageContentHeight()})))})),y(d(a),"onTouchMove",(function(e){if(!a.state.switching){var t=a.state.activeModal||a.state.nextModal;if(t){var n=a.modalsState[t];return n.type===At.PAGE?a.onPageTouchMove(e,n):n.type===At.CARD?a.onCardTouchMove(e,n):void 0}}})),y(d(a),"onTouchEnd",(function(e){var t=a.state.activeModal||a.state.nextModal;if(t){var n=a.modalsState[t];return n.type===At.PAGE?a.onPageTouchEnd(e,n):n.type===At.CARD?a.onCardTouchEnd(n):void 0}})),y(d(a),"onScroll",(function(e){var t=a.state.activeModal,n=e.target;if(t&&n.closest(".ModalPage__content")){var o=a.modalsState[t];o.contentScrolled=!0,clearTimeout(o.contentScrollStopTimeout),o.contentScrollStopTimeout=window.setTimeout((function(){o.contentScrolled&&(o.contentScrolled=!1)}),250)}})),y(d(a),"prevNextSwitchEndHandler",(function(){if(a.activeTransitions=Math.max(0,a.activeTransitions-1),!(a.activeTransitions>0)){var e=a.state.nextModal,t={prevModal:null,nextModal:null,visibleModals:[e],activeModal:e,animated:!1,switching:!1};e||(t.history=[]),a.setState(t)}})),y(d(a),"doCloseModal",(function(e){_e(e.onClose)?e.onClose():_e(a.props.onClose)?a.props.onClose(e.id):console.error("[ModalRoot] onClose is undefined")})),y(d(a),"onMaskClick",(function(){a.triggerActiveModalClose()}));var i=e.activeModal;return a.state={activeModal:null,prevModal:null,nextModal:i,visibleModals:i?[i]:[],animated:!!i,switching:!1,history:i?[i]:[],isBack:!1,inited:!1,touchDown:!1,dragging:!1},a.activeTransitions=0,a.maskElementRef=o.e.createRef(),a.initModalsState(),a.modalRootContext={updateModalHeight:a.updateModalHeight},a.frameIds={},a}return u(n,[{key:"initModalsState",value:function(){this.modalsState=this.modals.reduce((function(e,t){var n=t.props,o={id:t.props.id,onClose:t.props.onClose,dynamicContentHeight:!!n.dynamicContentHeight};return"number"==typeof n.settlingHeight&&(o.settlingHeight=n.settlingHeight),e[o.id]=o,e}),{})}},{key:"componentDidMount",value:function(){this.initActiveModal()}},{key:"componentWillUnmount",value:function(){this.toggleDocumentScrolling(!0)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.activeModal!==e.activeModal&&!this.state.switching){var o=this.props.activeModal,a=e.activeModal;if(null!==o&&!this.modalsState[o])return console.warn("[ModalRoot.componentDidUpdate] nextModal ".concat(o," not found"));var i=jt(this.state.history),r=!1;return null===o?i=[]:i.includes(o)?(i=i.splice(0,i.indexOf(o)+1),r=!0):i.push(o),this.setState({activeModal:null,nextModal:o,prevModal:a,visibleModals:[o,a],history:i,isBack:r,animated:!0,inited:!1,switching:!1},(function(){null===o?n.closeActiveModal():n.initActiveModal()}))}this.state.switching&&!t.switching&&requestAnimationFrame((function(){return n.switchPrevNext()})),this.state.activeModal||this.state.prevModal||this.state.nextModal?this.toggleDocumentScrolling(!1):this.toggleDocumentScrolling(!0)}},{key:"blurActiveElement",value:function(){void 0!==this.window&&this.document.activeElement instanceof HTMLElement&&this.document.activeElement.blur()}},{key:"toggleDocumentScrolling",value:function(e){this.documentScrolling!==e&&(this.documentScrolling=e,e?this.window.removeEventListener("touchmove",this.preventTouch,{passive:!1}):this.window.addEventListener("touchmove",this.preventTouch,{passive:!1}))}},{key:"pickModal",value:function(e){return this.document.getElementById("modal-"+e)}},{key:"initActiveModal",value:function(){var e=this.state.activeModal||this.state.nextModal;if(e){var t=this.pickModal(e),n=this.modalsState[e];switch(t.querySelector(".ModalPage")?n.type=At.PAGE:t.querySelector(".ModalCard")&&(n.type=At.CARD),n.type){case At.PAGE:n.settlingHeight=n.settlingHeight||75,this.initPageModal(n,t);break;case At.CARD:this.initCardModal(n,t);break;default:console.warn("[ModalRoot.initActiveModal] modalState.type is unknown")}this.setState({inited:!0,switching:!0})}}},{key:"initPageModal",value:function(e,t){var n=t.querySelector(".ModalPage__content"),o=n.firstElementChild.offsetHeight,a=e.translateY;e.expandable=o>n.clientHeight,e.modalElement=t,e.innerElement=t.querySelector(".ModalPage__in-wrap"),e.headerElement=t.querySelector(".ModalPage__header"),e.contentElement=t.querySelector(".ModalPage__content"),e.footerElement=t.querySelector(".ModalPage__footer");var i,r,s,c,l,u=!1,d=!1;if(e.expandable){var p=(i=100-e.settlingHeight)/2,f=100-i;s=[0,p],c=[p,i+f/4],l=[i+f/4,100],u=i>0,d=i<=0,r=i}else{s=[r=i=100-(o+e.headerElement.offsetHeight)/e.innerElement.parentElement.offsetHeight*100,r+25],c=[r+25,r+25],l=[r+25,r+100]}e.expandable&&r>a&&(r=0),e.expandedRange=s,e.collapsedRange=c,e.hiddenRange=l,e.translateY=r,e.translateYFrom=i,e.collapsed=u,e.expanded=d}},{key:"initCardModal",value:function(e,t){e.modalElement=t,e.innerElement=t.querySelector(".ModalCard__in"),e.translateY=0}},{key:"checkPageContentHeight",value:function(){var e=this.state.activeModal,t=this.pickModal(e);if(t){var n=this.modalsState[e],o=Yt({},n);this.initPageModal(n,t);var a=Yt({},n),i=!1;o.expandable===a.expandable?o.translateYFrom!==a.translateYFrom&&(i=!0):i=!0,i&&(this.animateTranslate(n,n.translateY),this.animatePageHeader(n))}}},{key:"closeActiveModal",value:function(){var e=this.state.prevModal;if(!e)return console.warn("[ModalRoot.closeActiveModal] prevModal is ".concat(e));var t=this.modalsState[e];this.waitTransitionFinish(t,this.prevNextSwitchEndHandler),this.animateTranslate(t,100),this.setMaskOpacity(t,0)}},{key:"onPageTouchMove",value:function(e,t){var n=e.shiftY,o=e.startT,a=e.originalEvent,i=a.target;if(e.isY){if(!i.closest(".ModalPage__in"))return a.preventDefault();a.stopPropagation();var r=t.expandable,s=t.contentScrolled,c=t.collapsed,l=t.expanded;if(this.state.touchDown||(t.touchStartTime=o,t.touchStartContentScrollTop=t.contentElement.scrollTop,this.setState({touchDown:!0})),!s&&(null===t.touchMovePositive&&(t.touchMovePositive=n>0),!t.expandable||c||l&&t.touchMovePositive&&0===t.touchStartContentScrollTop||i.closest(".ModalPage__header"))){if(a.preventDefault(),!r&&n<0)return;!this.state.dragging&&this.setState({dragging:!0});var u=n/this.window.innerHeight*100,d=Se(u,72,.8,this.props.platform===U);t.touchShiftYPercent=u,t.translateYCurrent=Vt(t.translateY+d),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}else i.closest(".ModalPage")&&a.preventDefault()}},{key:"onCardTouchMove",value:function(e,t){var n=e.originalEvent,o=e.shiftY,a=e.startT;if(n.target.closest(".ModalCard__container")){this.state.touchDown||(t.touchStartTime=a,this.setState({touchDown:!0,dragging:!0}));var i=o/t.innerElement.offsetHeight*100,r=Se(i,72,1.2,this.props.platform===U);t.touchShiftYPercent=i,t.translateYCurrent=Math.max(0,t.translateY+r),this.animateTranslate(t,t.translateYCurrent),this.setMaskOpacity(t)}}},{key:"onPageTouchEnd",value:function(e,t){var n,o=this,a=e.startY,i=e.shiftY;if(t.contentScrolled=!1,t.touchMovePositive=null,this.state.dragging){var r=(a+i)/this.window.innerHeight*100,s=t.translateYCurrent;100!==(s=Ht(s=Vt(s+s/(Date.now()-t.touchStartTime.getTime())*240*.6*(t.touchShiftYPercent<0?-1:1)),t.expandedRange)?t.expandedRange[0]:Ht(s,t.collapsedRange)?t.translateYFrom:Ht(s,t.hiddenRange)?100:t.translateYFrom)&&r>=75&&(s=100),t.translateY=s,t.translateYCurrent=s,t.collapsed=s>0&&s<r,t.expanded=0===s,t.hidden=100===s,t.hidden&&this.doCloseModal(t),n=function(){t.hidden||o.animateTranslate(t,t.translateY),o.setMaskOpacity(t)}}this.setState({touchDown:!1,dragging:!1},n)}},{key:"onCardTouchEnd",value:function(e){var t,n=this;if(this.state.dragging){var o=e.translateYCurrent,a=o/(Date.now()-e.touchStartTime.getTime())*240*.6*(e.touchShiftYPercent<0?-1:1);o=(o=Math.max(0,o+a))>=30?100:0,e.translateY=o,e.hidden=100===o,e.hidden&&this.doCloseModal(e),t=function(){e.hidden||n.animateTranslate(e,e.translateY),n.setMaskOpacity(e)}}this.setState({touchDown:!1,dragging:!1},t)}},{key:"waitTransitionFinish",value:function(e,t){setTimeout(t,this.props.platform===U?320:400)}},{key:"switchPrevNext",value:function(){var e=this,t=this.state,n=t.prevModal,o=t.nextModal,a=this.modalsState[n],i=this.modalsState[o];if(!a&&!i)return console.warn("[ModalRoot.switchPrevNext] prevModal is ".concat(n,", nextModal is ").concat(o));var r=!!a&&a.type===At.PAGE,s=!!a&&a.type===At.CARD,c=!!i&&i.type===At.PAGE,l=!!i&&i.type===At.CARD;if(a&&(l||s&&c))return this.waitTransitionFinish(a,(function(){e.activeTransitions+=1,e.waitTransitionFinish(i,e.prevNextSwitchEndHandler),e.animateTranslate(i,i.translateY)})),this.animateTranslate(a,100);a&&c&&(this.activeTransitions+=1,this.waitTransitionFinish(a,this.prevNextSwitchEndHandler),r&&a.translateY<=i.translateYFrom&&!this.state.isBack?this.animateTranslate(a,i.translateYFrom+10):this.animateTranslate(a,100)),this.activeTransitions+=1,this.waitTransitionFinish(i,this.prevNextSwitchEndHandler),this.animateTranslate(i,i.translateY)}},{key:"animateTranslate",value:function(e,t){var n="animateTranslateFrame".concat(e.id);cancelAnimationFrame(this.frameIds[n]),this.frameIds[n]=requestAnimationFrame((function(){if(Bt(e.innerElement,"translateY(".concat(t,"%)")),e.type===At.PAGE&&e.footerElement){var n=e.footerElement.offsetHeight,o=e.innerElement.offsetHeight*(t/100);Bt(e.footerElement,"translateY(calc(".concat(n,"px * -").concat(o/n,"))"))}})),e.type===At.PAGE&&e.expandable&&this.animatePageHeader(e,t)}},{key:"animatePageHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.translateY);var n=t<15?Math.max(0,15-t)/15:0;requestAnimationFrame((function(){var t=e.headerElement.querySelector(".ModalPageHeader__shadow");t&&(t.style.opacity=n.toString())}))}},{key:"setMaskOpacity",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n&&this.state.history[0]!==e.id||(cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(t.maskElementRef.current){var o=e.translateY,a=e.translateYCurrent,i=null===n?1-(a-o)/(100-o)||0:n;t.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,i)).toString()}})))}},{key:"triggerActiveModalClose",value:function(){var e=this.modalsState[this.state.activeModal];e&&this.doCloseModal(e)}},{key:"render",value:function(){var e=this,t=this.state,n=t.prevModal,a=t.activeModal,i=t.nextModal,r=t.visibleModals,s=t.animated,c=t.touchDown,l=t.dragging,u=t.switching;return a||n||i||s?o.e.createElement($e.Provider,{value:!0},o.e.createElement(It.Provider,{value:this.modalRootContext},o.e.createElement(Ne,{className:X(G("ModalRoot",this.props.platform),{"ModalRoot--vkapps":this.props.configProvider.webviewType===ee.VKAPPS,"ModalRoot--touched":c,"ModalRoot--switching":u}),onMove:this.onTouchMove,onEnd:this.onTouchEnd,onScroll:this.onScroll},o.e.createElement("div",{className:"ModalRoot__mask",onClick:this.onMaskClick,ref:this.maskElementRef}),o.e.createElement("div",{className:"ModalRoot__viewport"},this.modals.map((function(t){var s=t.props.id;if(!r.includes(t.props.id))return null;var c=Yt({},e.modalsState[s]),u=c.type===At.PAGE,d="modal-".concat(s);return o.e.createElement("div",{key:d,id:d,className:X("ModalRoot__modal",{"ModalRoot__modal--active":s===a,"ModalRoot__modal--prev":s===n,"ModalRoot__modal--next":s===i,"ModalRoot__modal--dragging":l,"ModalRoot__modal--expandable":u&&c.expandable,"ModalRoot__modal--expanded":u&&c.expanded,"ModalRoot__modal--collapsed":u&&c.collapsed})},t)})))))):null}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"modals",get:function(){return[].concat(this.props.children)}}]),n}(o.e.Component);y(Ft,"contextTypes",{window:F.any,document:F.any});var Xt=fe(se(Ft),re,"configProvider");function Ut(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Wt=function(e){f(n,e);var t=Ut(n);function n(e){var a;c(this,n),a=t.call(this,e),y(d(a),"modalsState",void 0),y(d(a),"maskElementRef",void 0),y(d(a),"maskAnimationFrame",void 0),y(d(a),"modalRootContext",void 0),y(d(a),"activeTransitions",void 0),y(d(a),"handleKeyDownEsc",(function(e){"Escape"===e.key&&a.triggerActiveModalClose()})),y(d(a),"componentWillUnmount",(function(){document.removeEventListener("keydown",a.handleKeyDownEsc)})),y(d(a),"updateModalHeight",(function(){var e=a.state,t=e.activeModal,n=e.nextModal,o=t||n,i=o?a.modalsState[o]:void 0;i&&i.type===At.PAGE&&i.dynamicContentHeight&&(a.state.switching?a.waitTransitionFinish(i,(function(){requestAnimationFrame((function(){return a.checkPageContentHeight()}))})):requestAnimationFrame((function(){return a.checkPageContentHeight()})))})),y(d(a),"prevNextSwitchEndHandler",(function(){if(a.activeTransitions=Math.max(0,a.activeTransitions-1),!(a.activeTransitions>0)){var e=a.state.nextModal,t={prevModal:null,nextModal:null,visibleModals:[e],activeModal:e,animated:!1,switching:!1};e||(t.history=[]),a.setState(t)}})),y(d(a),"doCloseModal",(function(e){_e(e.onClose)?e.onClose():_e(a.props.onClose)?a.props.onClose(e.id):console.error("[ModalRoot] onClose is undefined")})),y(d(a),"onMaskClick",(function(){a.triggerActiveModalClose()}));var i=e.activeModal;return a.state={activeModal:null,prevModal:null,nextModal:i,visibleModals:i?[i]:[],animated:!!i,switching:!1,history:i?[i]:[],isBack:!1,inited:!1},a.maskElementRef=o.e.createRef(),a.activeTransitions=0,a.initModalsState(),a.modalRootContext={updateModalHeight:a.updateModalHeight},a}return u(n,[{key:"initModalsState",value:function(){this.modalsState=this.modals.reduce((function(e,t){var n=t.props,o={id:t.props.id,onClose:t.props.onClose,dynamicContentHeight:!!n.dynamicContentHeight};return"number"==typeof n.settlingHeight&&(o.settlingHeight=n.settlingHeight),e[o.id]=o,e}),{})}},{key:"componentDidMount",value:function(){this.initActiveModal(),document.addEventListener("keydown",this.handleKeyDownEsc)}},{key:"componentDidUpdate",value:function(e,t){var n=this;if(this.props.activeModal!==e.activeModal){var o=this.props.activeModal,a=e.activeModal;if(null!==o&&!this.modalsState[o])return console.warn("[ModalRoot.componentDidUpdate] nextModal ".concat(o," not found"));var i=jt(this.state.history),r=!1;return null===o?i=[]:i.includes(o)?(i=i.splice(0,i.indexOf(o)+1),r=!0):i.push(o),this.setState({activeModal:null,nextModal:o,prevModal:a,visibleModals:[o,a],history:i,isBack:r,animated:!0,inited:!1,switching:!1},(function(){null===o?n.closeActiveModal():n.initActiveModal()}))}this.state.switching&&!t.switching&&requestAnimationFrame((function(){return n.switchPrevNext()}))}},{key:"pickModal",value:function(e){return this.document.getElementById("modal-"+e)}},{key:"initActiveModal",value:function(){var e=this.state.activeModal||this.state.nextModal;if(e){var t=this.pickModal(e),n=this.modalsState[e];switch(t.querySelector(".ModalPage")?n.type=At.PAGE:t.querySelector(".ModalCard")&&(n.type=At.CARD),n.type){case At.PAGE:n.settlingHeight=n.settlingHeight||75,this.initPageModal(n,t);break;case At.CARD:this.initCardModal(n,t);break;default:console.warn("[ModalRoot.initActiveModal] modalState.type is unknown")}this.setState({inited:!0,switching:!0})}}},{key:"initPageModal",value:function(e,t){e.modalElement=t,e.innerElement=t.querySelector(".ModalPage__in-wrap"),e.headerElement=t.querySelector(".ModalPage__header"),e.contentElement=t.querySelector(".ModalPage__content"),e.footerElement=t.querySelector(".ModalPage__footer")}},{key:"initCardModal",value:function(e,t){e.modalElement=t,e.innerElement=t.querySelector(".ModalCard__in")}},{key:"checkPageContentHeight",value:function(){var e=this.state.activeModal,t=this.pickModal(e);if(t){var n=this.modalsState[e];this.initPageModal(n,t)}}},{key:"closeActiveModal",value:function(){var e=this.state.prevModal;if(!e)return console.warn("[ModalRoot.closeActiveModal] prevModal is ".concat(e));var t=this.modalsState[e];this.waitTransitionFinish(t,this.prevNextSwitchEndHandler),this.animateModalOpacity(t,!1),this.setMaskOpacity(t,0)}},{key:"waitTransitionFinish",value:function(e,t){setTimeout(t,this.props.platform===U?320:400)}},{key:"switchPrevNext",value:function(){var e=this,t=this.state,n=t.prevModal,o=t.nextModal,a=this.modalsState[n],i=this.modalsState[o];if(!a&&!i)return console.warn("[ModalRoot.switchPrevNext] prevModal is ".concat(n,", nextModal is ").concat(o));var r=!!a&&a.type===At.CARD,s=!!i&&i.type===At.PAGE,c=!!i&&i.type===At.CARD;if(a&&(c||r&&s))return this.activeTransitions+=1,this.waitTransitionFinish(a,(function(){e.waitTransitionFinish(i,e.prevNextSwitchEndHandler),e.animateModalOpacity(i,!0)})),void requestAnimationFrame((function(){e.animateModalOpacity(a,!1)}));a&&s&&(this.activeTransitions+=1,this.waitTransitionFinish(a,this.prevNextSwitchEndHandler),requestAnimationFrame((function(){e.animateModalOpacity(a,!1)}))),this.activeTransitions+=1,this.waitTransitionFinish(i,this.prevNextSwitchEndHandler),requestAnimationFrame((function(){e.animateModalOpacity(i,!0)}))}},{key:"animateModalOpacity",value:function(e,t){e.innerElement.style.opacity=t?"1":"0"}},{key:"animatePageHeader",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===t&&(t=e.translateY);var n=t<15?Math.max(0,15-t)/15:0;requestAnimationFrame((function(){var t=e.headerElement.querySelector(".ModalPageHeader__shadow");t&&(t.style.opacity=n.toString())}))}},{key:"setMaskOpacity",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;null===n&&this.state.history[0]!==e.id||(cancelAnimationFrame(this.maskAnimationFrame),this.maskAnimationFrame=requestAnimationFrame((function(){if(t.maskElementRef.current){var o=e.translateY,a=e.translateYCurrent,i=null===n?1-(a-o)/(100-o)||0:n;t.maskElementRef.current.style.opacity=Math.max(0,Math.min(100,i)).toString()}})))}},{key:"triggerActiveModalClose",value:function(){var e=this.modalsState[this.state.activeModal];e&&this.doCloseModal(e)}},{key:"render",value:function(){var e=this.state,t=e.prevModal,n=e.activeModal,a=e.nextModal,i=e.visibleModals,r=e.animated;return n||t||a||r?o.e.createElement(It.Provider,{value:this.modalRootContext},o.e.createElement("div",{className:X(G("ModalRoot",this.props.platform),{"ModalRoot--vkapps":this.props.configProvider.webviewType===ee.VKAPPS})},o.e.createElement("div",{className:"ModalRoot__mask",onClick:this.onMaskClick,ref:this.maskElementRef}),o.e.createElement("div",{className:"ModalRoot__viewport"},this.modals.map((function(e){var r=e.props.id;if(!i.includes(e.props.id))return null;var s="modal-".concat(r);return o.e.createElement("div",{key:s,id:s,className:X("ModalRoot__modal",{"ModalRoot__modal--active":r===n,"ModalRoot__modal--prev":r===t,"ModalRoot__modal--next":r===a})},e)}))))):null}},{key:"document",get:function(){return this.context.document||document}},{key:"window",get:function(){return this.context.window||window}},{key:"modals",get:function(){return[].concat(this.props.children)}}]),n}(o.e.Component);y(Wt,"contextTypes",{window:F.any,document:F.any});var qt=fe(se(Wt),re,"configProvider");function Kt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Gt=le(function(e){f(n,e);var t=Kt(n);function n(){return c(this,n),t.apply(this,arguments)}return u(n,[{key:"render",value:function(){var e=this.props.viewWidth>=ae.TABLET?qt:Xt;return o.e.createElement(e,this.props)}}]),n}(o.e.Component),{viewWidth:!0}),$t=function(e){var t=e.children,n=e.className,a=e.weight,i=te(e,["children","className","weight"]),r=it(),s=a;return r===U&&"semibold"===a&&(s="medium"),o.e.createElement("div",$({},i,{className:X(G("Text",r),"Text--w-".concat(s),n)}),t)},Jt=function(e){var t,n=it(),a=e.className,i=e.size,r=e.mode,s=e.stretched,c=e.align,l=e.children,u=e.before,d=e.after,p=e.getRootRef,f=e.Component,h=e.sizeY,m=te(e,["className","size","mode","stretched","align","children","before","after","getRootRef","Component","sizeY"]),v=Boolean(u||d);return o.e.createElement(at,$({},m,{className:X(G("Button",n),a,"Button--sz-".concat(i),"Button--lvl-".concat(r),"Button--aln-".concat(c||"center"),"Button--sizeY-".concat(h),(t={},y(t,"Button--str",s),y(t,"Button--with-icon",v),t)),getRootRef:p,Component:m.href?"a":f}),o.e.createElement("div",{className:"Button__in"},u&&o.e.createElement("div",{className:"Button__before"},u),l&&function(e,t,n,a,i){switch(e){case"l":return a===oe.COMPACT?o.e.createElement($t,{weight:"medium",className:"Button__content"},t):o.e.createElement(Ot,{level:"3",weight:"medium",Component:"div",className:"Button__content"},t);case"m":return a===oe.COMPACT?o.e.createElement(Mt,{weight:"medium",className:"Button__content",Component:"div"},t):o.e.createElement($t,{weight:"medium",className:"Button__content"},t);case"s":default:return n?o.e.createElement(kt,{caps:i!==V.VKCOM,level:i===V.VKCOM?"1":a===oe.COMPACT?"3":"2",weight:i===V.VKCOM||a===oe.COMPACT?"medium":"semibold",className:"Button__content"+(i!==V.VKCOM?"--caps":"")},t):a===oe.COMPACT?o.e.createElement(kt,{weight:"medium",level:"1",className:"Button__content"},t):o.e.createElement(Mt,{weight:"medium",Component:"div",className:"Button__content"},t)}}(i,l,v,h,n),d&&o.e.createElement("div",{className:"Button__after"},d)))};Jt.defaultProps={mode:"primary",Component:"button",size:"s",stretched:!1,stopPropagation:!0};var Qt=le(Jt,{sizeY:!0}),Zt=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="dismiss_24",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="dismiss_24"><g fill="currentColor"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z" opacity=".12" /><path d="M16.736 7.264a.9.9 0 010 1.272L13.273 12l3.463 3.464a.9.9 0 01.081 1.18l-.08.092a.9.9 0 01-1.273 0L12 13.273l-3.464 3.463a.9.9 0 11-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 01-.08-1.18l.08-.092a.9.9 0 011.272 0L12 10.727l3.464-3.463a.9.9 0 011.272 0z" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),en=Object(o.c)(Zt);function tn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var nn=function(e){f(n,e);var t=tn(n);function n(){var e;c(this,n);for(var o=arguments.length,a=new Array(o),i=0;i<o;i++)a[i]=arguments[i];return e=t.call.apply(t,[this].concat(a)),y(d(e),"onButtonClick",(function(t){var n=t.currentTarget,o=e.props.actions[Number(n.dataset.index)].action;t.persist(),"function"==typeof o&&o(t)})),e}return u(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.icon,a=t.header,i=t.caption,r=t.children,s=t.actions,c=t.actionsLayout,l=t.onClose,u=t.viewWidth,d=t.platform,p=t.className,f=u>=ae.TABLET,h=d===W||f;return o.e.createElement("div",{className:X(G("ModalCard",d),{"ModalCard--desktop":f},p)},o.e.createElement("div",{className:"ModalCard__in"},o.e.createElement("div",{className:"ModalCard__container"},n&&o.e.createElement("div",{className:"ModalCard__icon"},n),a&&o.e.createElement("div",{className:"ModalCard__title"},a),i&&o.e.createElement("div",{className:"ModalCard__caption"},i),r,s.length>0&&o.e.createElement("div",{className:X("ModalCard__actions",{"ModalCard__actions--v":"vertical"===c})},s.map((function(t,n){var a=t.title,i=t.mode;return o.e.createElement(Qt,{key:n,"data-index":n,size:"m",mode:i,onClick:e.onButtonClick},a)}))),h&&o.e.createElement(rt,{className:"ModalCard__dismiss",onClick:l},o.e.createElement(en,null)))))}}]),n}(o.e.Component);y(nn,"defaultProps",{actions:[],actionsLayout:"horizontal"});var on=le(se(nn),{viewWidth:!0}),an=function(e){var t=e.className,n=e.children,a=te(e,["className","children"]),i=G("List",it());return o.e.createElement("div",$({},a,{className:X(i,t)}),n)},rn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="cancel_24",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="cancel_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M18.3 5.7a.99.99 0 00-1.4 0L12 10.6 7.1 5.7a.99.99 0 00-1.4 1.4l4.9 4.9-4.9 4.9a.99.99 0 001.4 1.4l4.9-4.9 4.9 4.9a.99.99 0 001.4-1.4L13.4 12l4.9-4.9a.99.99 0 000-1.4z" fill="currentColor" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),sn=Object(o.c)(rn),cn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="chevron_24",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 16 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 24" id="chevron_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v24H0z" /><path d="M4.706 7.706a1 1 0 010-1.412l.088-.088a.997.997 0 011.414.002l5.084 5.084a.998.998 0 010 1.416l-5.084 5.084a1.002 1.002 0 01-1.414.002l-.088-.088a.995.995 0 010-1.412L9 12 4.706 7.706z" fill="currentColor" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 16 24",id:s,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?24:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),ln=Object(o.c)(cn),un=function(e){var t=e.before,n=e.indicator,a=e.children,i=e.after,r=e.description,s=e.className,c=e.expandable,l=e.multiline,u=e.Component,d=e.sizeX,p=te(e,["before","indicator","children","after","description","className","expandable","multiline","Component","sizeX"]),f=it(),h=ke(i)||c&&f===W,m=p.disabled?u:at;return u=p.disabled?void 0:u,o.e.createElement(m,$({},p,{Component:p.href?"a":u,className:X(s,G("SimpleCell",f),"SimpleCell--sizeX-".concat(d),{"SimpleCell--exp":c,"SimpleCell--mult":l})}),t,o.e.createElement("div",{className:"SimpleCell__main"},o.e.createElement("div",{className:"SimpleCell__children"},a),r&&o.e.createElement("div",{className:"SimpleCell__description"},r)),ke(n)&&o.e.createElement("div",{className:"SimpleCell__indicator"},n),h&&o.e.createElement("div",{className:"SimpleCell__after"},i,c&&f===W&&o.e.createElement(ln,null)))};un.defaultProps={Component:"div"};var dn=le(un,{sizeX:!0}),pn=function(e){var t=e.className,n=e.children,a=e.getRootRef,i=te(e,["className","children","getRootRef"]),r=it();return o.e.createElement("div",$({},i,{ref:a,className:X(G("Div",r),t)}),n)};function fn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function hn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?fn(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):fn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var mn=function(e){var t,n=e.src,a=e.size,i=e.shadow,r=e.mode,s=e.style,c=e.className,l=e.children,u=e.getRootRef,d=te(e,["src","size","shadow","mode","style","className","children","getRootRef"]),p=n?"img":"div",f=it();switch(r){case"default":t="50%";break;case"image":t=4;break;case"app":t=Math.floor(10*a/48)}return o.e.createElement("div",{className:X(G("Avatar",f),c,"Avatar--type-".concat(r),"Avatar--sz-".concat(a)),ref:u},o.e.createElement("div",{className:"Avatar__in",style:{width:a,height:a}},o.e.createElement(p,$({},d,{className:"Avatar__img",src:n,style:hn(hn({},s),{},{borderRadius:t})})),i&&o.e.createElement("span",{className:"Avatar__shadow",style:{borderRadius:t}}),l&&o.e.createElement("div",{className:"Avatar__children",style:{width:a,height:a,borderRadius:t}},l)))};mn.defaultProps={size:48,mode:"default",shadow:!0};var vn=function(e){var t=e.value,n=e.className,a=e.getRootRef,i=te(e,["value","className","getRootRef"]),r=it();return o.e.createElement("div",$({},i,{ref:a,className:X(G("Progress",r),n)}),o.e.createElement("div",{className:"Progress__bg"}),o.e.createElement("div",{className:"Progress__in",style:{width:"".concat(t,"%")}}))};vn.defaultProps={value:0};var yn=function(e){var t=e.className,n=e.icon,a=e.header,i=e.action,r=e.children,s=e.stretched;return o.e.createElement("div",{className:X("Placeholder",{"Placeholder--stretched":s},t)},o.e.createElement("div",{className:"Placeholder__in"},n&&o.e.createElement("div",{className:"Placeholder__icon"},n),a&&o.e.createElement("div",{className:"Placeholder__header"},a),r&&o.e.createElement("div",{className:"Placeholder__text"},r),i&&o.e.createElement("div",{className:"Placeholder__action"},i)))},gn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="dismiss_substract_24",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="dismiss_substract_24"><path d="M12 0c6.627 0 12 5.373 12 12s-5.373 12-12 12S0 18.627 0 12 5.373 0 12 0zm4.736 7.264a.9.9 0 00-1.272 0L12 10.727 8.536 7.264l-.092-.08a.9.9 0 00-1.18.08l-.08.092a.9.9 0 00.08 1.18L10.727 12l-3.463 3.464a.9.9 0 101.272 1.272L12 13.273l3.464 3.463.092.08a.9.9 0 001.18-.08l.08-.092a.9.9 0 00-.08-1.18L13.273 12l3.463-3.464a.9.9 0 000-1.272z" fill="currentColor" /></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),wn=Object(o.c)(gn),bn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="dismiss_dark_24",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 24 24",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="dismiss_dark_24"><path d="M12 24c6.627 0 12-5.373 12-12S18.627 0 12 0 0 5.373 0 12s5.373 12 12 12z" fill="#000" opacity=".24" /><path d="M16.736 7.264a.9.9 0 010 1.272L13.273 12l3.463 3.464a.9.9 0 01.081 1.18l-.08.092a.9.9 0 01-1.273 0L12 13.273l-3.464 3.463a.9.9 0 11-1.272-1.272L10.727 12 7.264 8.536a.9.9 0 01-.08-1.18l.08-.092a.9.9 0 011.272 0L12 10.727l3.464-3.463a.9.9 0 011.272 0z" fill="#fff" /></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),En=Object(o.c)(bn),Sn=function(e){var t=it(),n=e.className,a=e.mode,i=e.imageTheme,r=e.size,s=e.before,c=e.asideMode,l=e.header,u=e.subheader,d=e.text,p=(e.children,e.background),f=e.actions,h=e.onDismiss,m=te(e,["className","mode","imageTheme","size","before","asideMode","header","subheader","text","children","background","actions","onDismiss"]),v="expand"===c?at:"div";return o.e.createElement("div",$({},m,{className:X(G("Banner",t),"Banner--md-".concat(a),"Banner--sz-".concat(r),{"Banner--inverted":"image"===a&&"dark"===i},n)}),o.e.createElement(v,{className:"Banner__in"},"image"===a&&p&&o.e.createElement("div",{className:"Banner__bg"},p),s&&o.e.createElement("div",{className:"Banner__before"},s),o.e.createElement("div",{className:"Banner__content"},l&&o.e.createElement("div",{className:"Banner__header"},l),u&&o.e.createElement("div",{className:"Banner__subheader"},u),d&&o.e.createElement("div",{className:"Banner__text"},d),f&&o.e.createElement("div",{className:"Banner__actions"},f)),"expand"===c&&o.e.createElement("div",{className:"Banner__expand"},o.e.createElement(ln,null)),"dismiss"===c&&o.e.createElement("div",{className:"Banner__dismiss"},o.e.createElement("div",{className:"Banner__dismissIcon",onClick:h},t===U&&o.e.createElement(sn,null),t===W&&("image"===a?o.e.createElement(En,null):o.e.createElement(wn,null))))))};Sn.defaultProps={mode:"tint",size:"s",imageTheme:"dark"};var _n=function(e){var t=e.children,n=e.Component,a=e.className,i=e.getRef,r=e.onSubmit,s=te(e,["children","Component","className","getRef","onSubmit"]),c=it();return o.e.createElement(n,$({},s,{className:X(G("FormLayout",c),a),onSubmit:r,ref:i}),o.e.createElement("div",{className:"FormLayout__container"},o.e.Children.toArray(t).map((function(e,t){if(e){var n=e.props,a=n.status,i=n.top,r=n.bottom;return o.e.createElement("div",{className:X("FormLayout__row",y({},"FormLayout__row--s-".concat(a),!!a)),key:e.key||"row-".concat(t)},i&&o.e.createElement("div",{className:"FormLayout__row-top"},i),e,r&&o.e.createElement("div",{className:"FormLayout__row-bottom"},r))}return null}))),"form"===n&&o.e.createElement("input",{type:"submit",className:"FormLayout__submit",value:""}))};_n.defaultProps={Component:"form",onSubmit:function(e){return e.preventDefault()}};var Pn=function(e){var t=e.children,n=(e.top,e.bottom,e.className),a=(e.status,e.mode),i=void 0===a?"vertical":a,r=te(e,["children","top","bottom","className","status","mode"]),s=it();return o.e.createElement("div",$({className:X(G("FormLayoutGroup",s),"FormLayoutGroup--".concat(i),n)},r),"vertical"===i?t:o.e.Children.toArray(t).map((function(e,t){if(e){var n=e.props,a=n.status,i=n.top,r=n.bottom;return o.e.createElement("div",{className:X("FormLayoutGroup__cell",y({},"FormLayout__row--s-".concat(a),!!a)),key:e.key||"row-".concat(t)},i&&o.e.createElement("div",{className:"FormLayout__row-top"},i),e,r&&o.e.createElement("div",{className:"FormLayout__row-bottom"},r))}return null})))},kn=function(e){var t=e.Component,n=e.className,a=e.children,i=e.status,r=e.getRootRef,s=(e.top,e.bottom,te(e,["Component","className","children","status","getRootRef","top","bottom"])),c=it(),l=o.e.useState(!1),u=St(l,2),d=u[0],p=u[1];return o.e.createElement(t,$({},s,{ref:r,onMouseEnter:function(e){e.stopPropagation(),p(!0)},onMouseLeave:function(e){e.stopPropagation(),p(!1)},className:X(G("FormField",c),y({},"FormField--s-".concat(i),"default"!==i),n)}),a,o.e.createElement("div",{className:X("FormField__border",{"FormField__border--hover":d})}))};kn.defaultProps={status:"default",Component:"div"};var Mn=function(e){var t=e.align,n=e.status,a=e.getRef,i=e.className,r=e.getRootRef,s=(e.top,e.bottom,e.sizeY),c=te(e,["align","status","getRef","className","getRootRef","top","bottom","sizeY"]),l=it();return o.e.createElement(kn,{className:X(G("Input",l),i,y({},"Input--".concat(t),!!t),"Input--sizeY-".concat(s)),status:n,getRootRef:r},o.e.createElement("input",$({},c,{className:"Input__el",ref:a})))};Mn.defaultProps={type:"text"};var Rn=le(Mn,{sizeY:!0});function On(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Cn=function(e){f(n,e);var t=On(n);function n(e){var o;return c(this,n),o=t.call(this,e),y(d(o),"isControlledOutside",void 0),y(d(o),"element",void 0),y(d(o),"getRef",(function(e){o.element=e,Me(e,o.props.getRef)})),y(d(o),"resize",(function(){var e=o.element;if(e){var t=e.offsetHeight,n=e.scrollHeight,a=window.getComputedStyle(e),i=parseInt(a.paddingTop)+parseInt(a.paddingBottom);n+i<=t&&(i=0),e.value&&o.setState({height:n-i}),o.setState({height:0},(function(){var t=e.scrollHeight-i;o.setState({height:t}),o.props.onResize&&o.props.onResize(e)}))}})),y(d(o),"onChange",(function(e){o.props.grow&&o.resize(),o.isControlledOutside||o.setState({value:e.target.value}),o.props.onChange&&o.props.onChange(e)})),void 0!==e.value?(o.isControlledOutside=!0,o.state={}):o.state={value:e.defaultValue||""},o}return u(n,[{key:"componentDidMount",value:function(){this.props.grow&&this.resize()}},{key:"componentDidUpdate",value:function(e){var t=this;e.value&&""===this.props.value&&window.requestAnimationFrame((function(){t.element.value=""}))}},{key:"render",value:function(){var e=this.props,t=(e.defaultValue,e.value,e.onChange,e.grow,e.style),n=(e.onResize,e.className),a=e.getRootRef,i=(e.getRef,e.status),r=(e.top,e.bottom,e.sizeY),s=e.platform,c=te(e,["defaultValue","value","onChange","grow","style","onResize","className","getRootRef","getRef","status","top","bottom","sizeY","platform"]),l=this.state.height||t.height||66;return o.e.createElement(kn,{className:X(G("Textarea",s),n,"Textarea--sizeY-".concat(r)),style:t,getRootRef:a,status:i},o.e.createElement("textarea",$({},c,{className:"Textarea__el",value:this.value,onChange:this.onChange,ref:this.getRef,style:{height:l}})))}},{key:"value",get:function(){return this.isControlledOutside?this.props.value:this.state.value}}]),n}(o.e.PureComponent);y(Cn,"defaultProps",{style:{},defaultValue:"",grow:!0});var xn=se(le(Cn,{sizeY:!0})),Tn=le((function(e){var t=e.children,n=e.description,a=e.style,i=e.className,r=e.getRef,s=e.getRootRef,c=(e.top,e.bottom,e.sizeY),l=te(e,["children","description","style","className","getRef","getRootRef","top","bottom","sizeY"]),u=it();return o.e.createElement(at,{Component:"label",style:a,className:X(G("Radio",u),i,"Radio--sizeY-".concat(c)),activeEffectDelay:u===W?100:600,disabled:l.disabled,getRootRef:s},o.e.createElement("input",$({},l,{type:"radio",className:"Radio__input",ref:r})),o.e.createElement("div",{className:"Radio__container"},o.e.createElement("div",{className:"Radio__icon"}),o.e.createElement("div",{className:"Radio__content"},t,n&&o.e.createElement("div",{className:"Radio__description"},n))))}),{sizeY:!0}),Nn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="dropdown_16",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 16 12",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 12" id="dropdown_16"><g fill="none" fill-rule="evenodd"><path d="M0 0h16v12H0z" /><path d="M4.454 3.691A.9.9 0 103.346 5.11l4.096 3.203a.9.9 0 001.109 0l4.1-3.203a.9.9 0 10-1.108-1.418L7.997 6.46l-3.543-2.77z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 16 12",id:s,width:isNaN(e.width)?16:+e.width,height:isNaN(e.height)?12:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),Dn=Object(o.c)(Nn),jn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="dropdown_20",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 20 16",content:'<symbol fill="none" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 16" id="dropdown_20"><path d="M5.703 5.122a1.125 1.125 0 10-1.406 1.756l5 4c.411.33.995.33 1.406 0l5-4a1.125 1.125 0 10-1.406-1.756L10 8.559 5.703 5.122z" fill="currentColor" /></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 20 16",id:s,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?16:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),Bn=Object(o.c)(jn),An=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="dropdown_24",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 24 24",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" id="dropdown_24"><g fill="none" fill-rule="evenodd"><path d="M0 0h24v24H0z" /><path d="M12 14.198L6.64 9.732a1 1 0 10-1.28 1.536l6 5a1 1 0 001.28 0l6-5a1 1 0 10-1.28-1.536L12 14.198z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 24 24",id:s,width:isNaN(e.width)?24:+e.width,height:isNaN(e.height)?24:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),In=Object(o.c)(An);function Ln(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Yn=se(le(function(e){f(n,e);var t=Ln(n);function n(e){var o;c(this,n),o=t.call(this,e),y(d(o),"isControlledOutside",void 0),y(d(o),"selectEl",void 0),y(d(o),"onChange",(function(e){o.setTitle(),o.isControlledOutside||o.setState({value:e.currentTarget.value}),o.props.onChange&&o.props.onChange(e)})),y(d(o),"setTitle",(function(){var e=o.selectEl.options[o.selectEl.selectedIndex];e&&o.setState({title:e.text,notSelected:""===e.value&&o.props.hasOwnProperty("placeholder")})})),y(d(o),"getRef",(function(e){o.selectEl=e,Me(e,o.props.getRef)}));var a={title:"",notSelected:!1};return void 0!==e.value?o.isControlledOutside=!0:a.value=e.defaultValue||"",o.state=a,o}return u(n,[{key:"componentDidUpdate",value:function(e){e.value===this.props.value&&e.children===this.props.children||this.setTitle()}},{key:"componentDidMount",value:function(){this.setTitle()}},{key:"render",value:function(){var e,t=this.props,n=t.style,a=(t.value,t.defaultValue,t.onChange,t.align),i=t.status,r=t.placeholder,s=t.children,c=t.className,l=(t.getRef,t.getRootRef),u=(t.top,t.bottom,t.disabled),d=t.sizeX,p=t.sizeY,f=t.platform,h=te(t,["style","value","defaultValue","onChange","align","status","placeholder","children","className","getRef","getRootRef","top","bottom","disabled","sizeX","sizeY","platform"]);return o.e.createElement(kn,{Component:"label",className:X(G("Select",f),(e={},y(e,"Select--not-selected",this.state.notSelected),y(e,"Select--align-".concat(a),!!a),y(e,"Select--sizeX--".concat(d),!!d),y(e,"Select--sizeY--".concat(p),!!p),y(e,"Select--disabled",u),e),c),style:n,getRootRef:l,status:i},o.e.createElement("select",$({},h,{disabled:u,className:"Select__el",onChange:this.onChange,value:this.value,ref:this.getRef}),r&&o.e.createElement("option",{value:""},r),s),o.e.createElement("div",{className:"Select__container"},o.e.createElement("div",{className:"Select__title"},this.state.title),d===oe.COMPACT?o.e.createElement(Dn,null):p===oe.COMPACT?o.e.createElement(Bn,null):o.e.createElement(In,null)))}},{key:"value",get:function(){return this.isControlledOutside?this.props.value:this.state.value}}]),n}(o.e.Component),{sizeX:!0,sizeY:!0})),zn=function(e){var t,n=e.className,a=e.tabIndex,i=e.placeholder,r=e.children,s=e.align,c=e.status,l=e.getRootRef,u=e.multiline,d=e.disabled,p=e.onClick,f=e.sizeX,h=e.sizeY,m=te(e,["className","tabIndex","placeholder","children","align","status","getRootRef","multiline","disabled","onClick","sizeX","sizeY"]),v=it();return o.e.createElement(kn,$({},m,{tabIndex:d?null:a,className:X(G("Select",v),"Select--mimicry",(t={"Select--not-selected":!r,"Select--multiline":u,"Select--disabled":d},y(t,"Select--align-".concat(s),!!s),y(t,"Select--sizeX--".concat(f),!!f),y(t,"Select--sizeY--".concat(h),!!h),t),n),getRootRef:l,status:c,onClick:d?null:p}),o.e.createElement("div",{className:"Select__container"},o.e.createElement("div",{className:"Select__title"},r||i),f===oe.COMPACT?o.e.createElement(Dn,null):h===oe.COMPACT?o.e.createElement(Bn,null):o.e.createElement(In,null)))};zn.defaultProps={tabIndex:0};var Hn=le(zn,{sizeX:!0,sizeY:!0});function Vn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Fn=function(e){f(n,e);var t=Vn(n);function n(){var e;c(this,n);for(var a=arguments.length,i=new Array(a),r=0;r<a;r++)i[r]=arguments[r];return e=t.call.apply(t,[this].concat(i)),y(d(e),"ratio",NaN),y(d(e),"lastTrackerTop",0),y(d(e),"clientHeight",0),y(d(e),"trackerHeight",0),y(d(e),"scrollHeight",0),y(d(e),"transformProp",""),y(d(e),"startY",0),y(d(e),"trackerTop",0),y(d(e),"box",o.e.createRef()),y(d(e),"barY",o.e.createRef()),y(d(e),"trackerY",o.e.createRef()),y(d(e),"resize",(function(){var t=e.box.current.clientHeight,n=e.box.current.scrollHeight,o=t/n,a=Math.max(t*o,40);e.ratio=o,e.clientHeight=t,e.scrollHeight=n,e.trackerHeight=a,o>=1?e.barY.current.style.display="none":(e.barY.current.style.display="",e.trackerY.current.style.height="".concat(a,"px"),e.setTrackerPositionFromScroll(e.box.current.scrollTop))})),y(d(e),"scroll",(function(){e.ratio>=1||e.setTrackerPositionFromScroll(e.box.current.scrollTop)})),y(d(e),"onDragStart",(function(t){t.preventDefault(),e.startY=t.clientY,e.trackerTop=e.lastTrackerTop,document.addEventListener("mousemove",e.onMove),document.addEventListener("mouseup",e.onUp),e.trackerY.current.classList.add("CustomScrollView__trackerY--dragging"),e.box.current.classList.add("CustomScrollView__box--dragging")})),y(d(e),"onMove",(function(t){t.preventDefault();var n=t.clientY-e.startY,o=Math.min(Math.max(e.trackerTop+n,0),e.clientHeight-e.trackerHeight);e.setScrollPositionFromTracker(o)})),y(d(e),"onUp",(function(t){t.preventDefault(),document.removeEventListener("mousemove",e.onMove),document.removeEventListener("mouseup",e.onUp),e.trackerY.current.classList.remove("CustomScrollView__trackerY--dragging"),e.box.current.classList.remove("CustomScrollView__box--dragging")})),e}return u(n,[{key:"componentDidMount",value:function(){this.chooseTransformProp(),this.resize(),this.props.windowResize&&window.addEventListener("resize",this.resize)}},{key:"componentDidUpdate",value:function(){this.resize()}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"chooseTransformProp",value:function(){var e=this.trackerY.current.style,t="";"transform"in e?t="transform":"webkitTransform"in e&&(t="webkitTransform"),this.transformProp=t}},{key:"setTrackerPosition",value:function(e){this.lastTrackerTop=e,this.trackerY.current.style[this.transformProp]="translate(0, ".concat(e,"px)")}},{key:"setTrackerPositionFromScroll",value:function(e){var t=e/(this.scrollHeight-this.clientHeight);this.setTrackerPosition((this.clientHeight-this.trackerHeight)*t)}},{key:"setScrollPositionFromTracker",value:function(e){var t=e/(this.clientHeight-this.trackerHeight);this.box.current.scrollTop=(this.scrollHeight-this.clientHeight)*t}},{key:"render",value:function(){return o.e.createElement("div",{className:"CustomScrollView"},o.e.createElement("div",{className:"CustomScrollView__box",tabIndex:-1,ref:this.box,onScroll:this.scroll},this.props.children),o.e.createElement("div",{className:"CustomScrollView__barY",ref:this.barY},o.e.createElement("div",{className:"CustomScrollView__trackerY",ref:this.trackerY,onMouseDown:this.onDragStart})))}}]),n}(o.e.Component);function Xn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Un=se(le(function(e){f(n,e);var t=Xn(n);function n(e){var a;c(this,n),a=t.call(this,e),y(d(a),"state",void 0),y(d(a),"keyboardInput",void 0),y(d(a),"node",void 0),y(d(a),"scrollViewRef",o.e.createRef()),y(d(a),"resetKeyboardInput",(function(){a.keyboardInput=""})),y(d(a),"getSelectedItem",(function(){var e=a.state.selectedOptionIndex,t=a.props.options;return t.length?t[e]:null})),y(d(a),"open",(function(){a.setState((function(e){return{opened:!0,focusedOptionIndex:e.selectedOptionIndex}}),(function(){var e=a.state.selectedOptionIndex;a.isValidIndex(e)&&a.scrollToElement(e,!0)}))})),y(d(a),"close",(function(){a.resetKeyboardInput(),a.setState((function(){return{opened:!1,focusedOptionIndex:-1}}))})),y(d(a),"selectFocused",(function(){var e=a.state.focusedOptionIndex;a.select(e)})),y(d(a),"select",(function(e){var t=a.props,n=t.onChange,o=t.name,i=t.options;if(a.isValidIndex(e)){var r=i[e];a.setState((function(){return{selectedOptionIndex:e}})),n&&n({value:r.value,name:o||""}),a.close()}})),y(d(a),"onClick",(function(){a.state.opened?a.close():a.open()})),y(d(a),"onFocus",(function(){var e=a.props.onFocus;a.setState((function(){return{focused:!0}})),e&&e()})),y(d(a),"onBlur",(function(){var e=a.props.onBlur;a.resetKeyboardInput(),a.setState((function(){return{opened:!1,focused:!1}})),e&&e()})),y(d(a),"handleDocumentClick",(function(e){var t=a.node;a.state.opened&&t&&!t.contains(e.target)&&a.onBlur()})),y(d(a),"focusOptionByIndex",(function(e){var t=a.state.focusedOptionIndex,n=a.props.options,o=t;e<0?e=n.length-1:e>=n.length&&(e=0),e!==o&&(a.scrollToElement(e),a.setState((function(){return{focusedOptionIndex:e}})))})),y(d(a),"focusOption",(function(e){var t=a.state.focusedOptionIndex,n=t;"next"===e?n=t+1:"prev"===e&&(n=t-1),a.focusOptionByIndex(n)})),y(d(a),"handleOptionHover",(function(e){var t=a.props.options,n=e.currentTarget.title;if(n){var o=t.findIndex((function(e){return e.label===n}));a.setState((function(){return{focusedOptionIndex:o}}))}})),y(d(a),"handleOptionDown",(function(e){e.preventDefault()})),y(d(a),"resetFocusedOption",(function(){a.setState((function(){return{focusedOptionIndex:-1}}))})),y(d(a),"onKeyboardInput",(function(e){var t=a.props.options,n=a.keyboardInput+e,o=t.findIndex((function(e){return e.label.toLowerCase().includes(n)}));o>-1&&a.focusOptionByIndex(o),a.keyboardInput=n})),y(d(a),"handleKeyDownSelect",(function(e){var t=a.state.opened;if(1!==e.key.length||" "===e.key)switch(e.key){case"ArrowUp":e.preventDefault(),t?a.focusOption("prev"):a.open();break;case"ArrowDown":e.preventDefault(),t?a.focusOption("next"):a.open();break;case"Escape":e.preventDefault(),a.close();break;case"Enter":case"Spacebar":case" ":e.preventDefault(),t?a.selectFocused():a.open()}else a.onKeyboardInput(e.key)})),y(d(a),"handleKeyUp",function(e,t){var n,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,a=null,i=function(){return e.apply(o,a)};return function(){for(var e=arguments.length,o=new Array(e),r=0;r<e;r++)o[r]=arguments[r];a=o,clearTimeout(n),n=setTimeout(i,t)}}(a.resetKeyboardInput,1e3)),y(d(a),"renderOption",(function(e,t){var n=a.state,i=t===n.focusedOptionIndex,r=t===n.selectedOptionIndex;return o.e.createElement("div",{key:t,role:"option",title:e.label,"aria-posinset":t,"aria-selected":r,onClick:a.selectFocused,onMouseDown:a.handleOptionDown,onMouseEnter:a.handleOptionHover,className:X("CustomSelect__option",y({},"CustomSelect__option--hover",i))},e.label,r&&o.e.createElement("div",{className:"CustomSelect__selectedIcon"},o.e.createElement(xt,{fill:"var(--accent)"})))}));var i=e.value;return a.keyboardInput="",a.state={opened:!1,focused:!1,focusedOptionIndex:-1,selectedOptionIndex:e.options.findIndex((function(e){return e.value===i}))},a}return u(n,[{key:"isValidIndex",value:function(e){return e>=0&&e<this.props.options.length}},{key:"scrollToElement",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.scrollViewRef.current,o=n.box.current,a=o?o.children[e]:null;if(a){var i=o.offsetHeight,r=o.scrollTop,s=a.offsetTop,c=a.offsetHeight;t?o.scrollTop=s-i/2+c/2:s+c>i+r?o.scrollTop=s-i+c:s<r&&(o.scrollTop=s)}}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleDocumentClick,!1),document.addEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleDocumentClick,!1),document.removeEventListener("touchend",this.handleDocumentClick,!1)}},{key:"componentDidUpdate",value:function(e){var t=this;e.options===this.props.options&&e.value===this.props.value||this.setState({selectedOptionIndex:this.props.options.findIndex((function(e){return e.value===t.props.value}))})}},{key:"renderWithCustomScrollbar",value:function(){var e,t,n=this.state.opened,a=this.props,i=a.name,r=a.className,s=a.getRef,c=a.popupDirection,l=a.options,u=a.sizeY,d=a.platform,p=(a.onChange,te(a,["name","className","getRef","popupDirection","options","sizeY","platform","onChange"])),f=this.getSelectedItem(),h=f?f.label:"";return o.e.createElement(o.e.Fragment,null,o.e.createElement(Hn,$({},p,{"aria-hidden":!0,onClick:this.onClick,onKeyDown:this.handleKeyDownSelect,onKeyUp:this.handleKeyUp,onFocus:this.onFocus,onBlur:this.onBlur,className:X((e={},y(e,"CustomSelect__open",n),y(e,"CustomSelect__open--popupDirectionTop","top"===c),e),r)}),h),i&&o.e.createElement("input",{type:"hidden",ref:s,name:i,value:f?String(f.value):""}),n&&o.e.createElement("div",{className:X((t={},y(t,G("CustomSelect__options",d),n),y(t,"CustomSelect__options--popupDirectionTop","top"===c),y(t,"CustomSelect__options--sizeY-".concat(u),!!u),t)),onMouseLeave:this.resetFocusedOption},o.e.createElement(Fn,{ref:this.scrollViewRef},l.map(this.renderOption))))}},{key:"render",value:function(){var e=this;return o.e.createElement("div",{className:"CustomSelect__container",ref:function(t){return e.node=t}},this.renderWithCustomScrollbar())}}]),n}(o.e.Component),{sizeY:!0})),Wn=function(e){var t=o.e.useRef();if(qe){var n=e.children,a=e.getRef,i=e.getRootRef,r=te(e,["children","getRef","getRootRef"]),s=[];Array.isArray(n)&&(s=n.filter((function(e){return o.e.isValidElement(e)&&"option"===e.type})).map((function(e){var t,n,o,a,i,r;return{value:null!==(t=null===(n=e.props)||void 0===n||null===(o=n.value)||void 0===o?void 0:o.toString())&&void 0!==t?t:"",label:null!==(a=null===(i=e.props)||void 0===i||null===(r=i.children)||void 0===r?void 0:r.toString())&&void 0!==a?a:""}})));var c=r.hasOwnProperty("value")?r.value:r.defaultValue;return o.e.createElement(Un,$({options:s,getRef:a,getRootRef:i,value:c},r))}var l=e.options,u=e.children,d=e.onChange,p=e.onFocus,f=e.onBlur,h=e.getRef,m=e.getRootRef,v=te(e,["options","children","onChange","onFocus","onBlur","getRef","getRootRef"]);return o.e.createElement(Yn,$({onFocus:function(){p&&p()},onBlur:function(){f&&f()},onChange:function(e){var n,o,a,i=null!==(n=null===(o=t.current)||void 0===o?void 0:o.selectedIndex)&&void 0!==n?n:-1,r=Array.isArray(l)?null===(a=l[i])||void 0===a?void 0:a.value:e.target.value;d&&d({value:r,name:e.target.name})},getRef:function(e){t.current=e,Me(e,h)},getRootRef:m},v),u||l.map((function(e,t){var n=e.label,a=e.value;return o.e.createElement("option",{value:"".concat(a),key:t},n)})))};function qn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function Kn(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,o=v(e);if(t){var a=v(this).constructor;n=Reflect.construct(o,arguments,a)}else n=o.apply(this,arguments);return m(this,n)}}var Gn=["Января","Февраля","Марта","Апреля","Мая","Июня","Июля","Августа","Сентября","Октября","Ноября","Декабря"],$n=le(function(e){f(n,e);var t=Kn(n);function n(e){var o;return c(this,n),o=t.call(this,e),y(d(o),"parseInputDate",(function(e){var t=e.split("-");return{day:Number(t[2]),month:Number(t[1]),year:Number(t[0])}})),y(d(o),"getDaysInMonth",(function(e,t){return new Date(e,t,0).getDate()})),y(d(o),"getMonthMaxDay",(function(){var e=o.state,t=e.month,n=e.year;return t?n?o.getDaysInMonth(n,t):o.getDaysInMonth(2016,t):31})),y(d(o),"getDayOptions",(function(){for(var e=o.getMonthMaxDay(),t=new Array(e),n=0;n<e;n++){var a=n+1;t[n]={label:String(a),value:a}}return t})),y(d(o),"getMonthOptions",(function(){return(o.props.monthNames||Gn).map((function(e,t){return{label:e,value:t+1}}))})),y(d(o),"getYearOptions",(function(){for(var e=o.props,t=e.max,n=e.min,a=[],i=t.year,r=n.year,s=i;s>=r;s--)a.push({label:String(s),value:s});return a})),y(d(o),"onSelectChange",(function(e){var t=e.value,n=e.name,a=o.props.onDateChange;o.setState((function(){return y({},n,t)}),(function(){a&&a(o.state)}))})),y(d(o),"onStringChange",(function(e){var t=o.props.onDateChange,n=e.currentTarget.value,a=o.parseInputDate(n);o.setState((function(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qn(Object(n),!0).forEach((function(t){y(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},a)})),t&&t(a)})),o.state=e.defaultValue?e.defaultValue:{day:0,month:0,year:0},o}return u(n,[{key:"convertToInputFormat",value:function(e){var t=e.day,n=e.month,o=e.year;return"".concat(o,"-").concat(Pe(n),"-").concat(Pe(t))}},{key:"customView",value:function(){var e=this.props,t=e.name,n=e.dayPlaceholder,a=e.monthPlaceholder,i=e.yearPlaceholder,r=e.popupDirection,s=e.status,c=this.state,l=c.day,u=c.month,d=c.year;return o.e.createElement("div",{className:"DatePicker"},o.e.createElement("div",{className:"DatePicker__container"},o.e.createElement("div",{className:"DatePicker__day"},o.e.createElement(Wn,{name:"day",value:l,options:this.getDayOptions(),status:s,placeholder:n,popupDirection:r,onChange:this.onSelectChange})),o.e.createElement("div",{className:"DatePicker__month"},o.e.createElement(Wn,{name:"month",value:u,options:this.getMonthOptions(),status:s,placeholder:a,popupDirection:r,onChange:this.onSelectChange})),o.e.createElement("div",{className:"DatePicker__year"},o.e.createElement(Wn,{name:"year",value:d,options:this.getYearOptions(),status:s,placeholder:i,popupDirection:r,onChange:this.onSelectChange}))),o.e.createElement("input",{type:"hidden",name:t,value:this.convertToInputFormat(this.state)}))}},{key:"nativeView",value:function(){var e=this.props,t=e.top,n=e.name,a=e.min,i=e.max,r=e.status,s=this.state,c=s.day,l=s.month,u=s.year;return c&&l&&u?o.e.createElement(Rn,{top:t,name:n,status:r,type:"date",defaultValue:this.convertToInputFormat(this.state),onChange:this.onStringChange,min:this.convertToInputFormat(a),max:this.convertToInputFormat(i)}):o.e.createElement(Rn,{top:t,name:n,status:r,type:"date",onChange:this.onStringChange,min:this.convertToInputFormat(a),max:this.convertToInputFormat(i)})}},{key:"render",value:function(){return qe?this.customView():this.nativeView()}}]),n}(o.e.Component),{}),Jn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="chevron_back_28",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 20 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 28" id="chevron_back_28"><g fill="none" fill-rule="evenodd"><path d="M0 0h20v28H0z" /><path d="M4.56 12.94L13 4.5a1.414 1.414 0 012 2L7.5 14l7.5 7.5a1.414 1.414 0 01-2 2l-8.44-8.44a1.5 1.5 0 010-2.12z" fill="currentColor" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 20 28",id:s,width:isNaN(e.width)?20:+e.width,height:isNaN(e.height)?28:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),Qn=Object(o.c)(Jn),Zn=Object(o.b)((function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=r(o.e),i=r(a.a);function r(e){return e&&e.__esModule?e:{default:e}}var s="arrow_left_outline_28",c=!1;function l(){c||((0,_t.addSpriteSymbol)(new i.default({id:s,viewBox:"0 0 28 28",content:'<symbol xmlns="http://www.w3.org/2000/svg" viewBox="0 0 28 28" id="arrow_left_outline_28"><g fill="none" fill-rule="evenodd"><path d="M28 0H0v28h28z" /><path d="M12.293 6.293a1 1 0 011.414 1.414L8.414 13H22a1 1 0 01.993.883L23 14a1 1 0 01-1 1H8.414l5.293 5.293a1 1 0 01.083 1.32l-.083.094a1 1 0 01-1.414 0l-7-7-.073-.082A1.005 1.005 0 015 14l.004.09A1.006 1.006 0 015 14.02V14a1.02 1.02 0 01.125-.484.878.878 0 01.071-.111.999.999 0 01.097-.112l-.08.09c.025-.031.051-.062.08-.09z" fill="currentColor" fill-rule="nonzero" /></g></symbol>'})),c=!0)}var u=function(e){return(0,_t.useIsomorphicLayoutEffect)((function(){l()}),[]),n.default.createElement(Pt.SvgIcon,(0,a.c.assign)({},e,{viewBox:"0 0 28 28",id:s,width:isNaN(e.width)?28:+e.width,height:isNaN(e.height)?28:+e.height}))};u.mountIcon=l;var d=u;t.default=d})),eo=Object(o.c)(Zn),to=function(e){var t=it();return o.e.createElement(rt,e,t===U?o.e.createElement(eo,null):o.e.createElement(Qn,null))},no=o.e.memo(to)}]]);